(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1214:function(e,t,s){"use strict";var c,a,i=s(87),l=s(1210),n=s(88),o=s(25),r=s(185),d=s(6),h=(s(63),s(1277)),u=s(50),b=s(19),j=s(11),p=s(4),m=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],v=Object(u.a)(h.a)(c||(c=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),f=u.a.div(a||(a=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(p.jsx)("span",{className:"loading-line"})),s=Object(o.a)(t,2),c=s[0],a=s[1],r=Object(d.useState)(!0),h=Object(o.a)(r,2),u=h[0],x=h[1],O=function(){var t=e.allowZero;return"object"!==Object(n.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},k=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,s=(e.wallet,e.closeShowLoadingEffectAfterLoaded),c=e.defaultValue,n=void 0===c?"--":c,o=Object(l.a)(e,m);if(O())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(j.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(b.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(b.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),a(Object(p.jsx)(v,Object(i.a)(Object(i.a)({},o),{},{renderText:k,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var r=e.width,d=e.height;a(Object(p.jsx)(f,{className:"loading-line",width:r,height:d})),s&&x(!1)}var h=window.setTimeout((function(){O()||a(n)}),6e4);return function(){clearTimeout(h)}}),[e.value,e.decimalScale,e.suffix]),c}},1225:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var c=s(50),a=s(1321),i=s.n(a),l=s(139),n=s(19),o=s(1297),r=s(4);const d=c.a.div`
  display:${e=>e.block};
  .text {
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:${e=>e.block}
  }
  
  .__react_component_tooltip.tooltip.show {
    font-weight : ${e=>e.isWin?400:600} 
  }
`;function h(e){let{text:t,id:s=String((new Date).getTime())+Math.random(),tip:c,multiline:a,html:h,className:u,element:b="",block:j="block",width:p="auto",children:m,tiggerEvent:v}=e;return Object(r.jsxs)(d,{className:u,block:j,isWin:o.isWindows,children:[Object(r.jsx)("div",{className:"text","data-for":s,"data-tip":h?i.a.renderToString(b):c,"data-event":Object(n.z)()?"click":v,"data-html":h,children:t||m}),c&&Object(r.jsx)(l.a,{id:s,width:p,padding:"12",place:"bottom",overridePosition:(e,t,s,c,a,i,l,n)=>{const o=s.getBoundingClientRect(),r=c.getBoundingClientRect();let{x:d,y:h,height:u,width:b}=o;const{left:j,top:p}=e;return d+r.width/2>document.documentElement.clientWidth?d-=Math.abs(b-r.width):d-(r.width-b)/2<0?d-=b:d-=(r.width-b)/2,h+u+r.height>=document.documentElement.clientHeight?h=h+u-r.height:h+=u,d<0&&(d=0),h<0&&(h=0),{top:h,left:d}},html:h,borderRadius:8,multiline:a})]})}},1390:function(e,t,s){"use strict";t.a=s.p+"static/media/staked.45c27f0b.svg"},1417:function(e,t,s){"use strict";var c=s(6),a=s(50),i=s(59),l=s.n(i),n=s(4);const o=a.a.div`
  display: inline-block;
  vertical-align: middle;
`,r=a.a.svg`
  fill: none;
  stroke: white;
  stroke-width: 2px;
`,d=a.a.input.attrs({type:"checkbox"})`
  border: 0;
  clip: rect(0 0 0 0);
  clippath: inset(50%);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`,h=a.a.div`
  background: ${e=>e.checked?"#5577FD":"none"};
  border: 2px solid #5577FD;
  display: inline-block;
  width: 14px;
  height: 14px;
  border-radius: 4px;
  box-sizing: border-box;
  border-radius: 4px;
  cursor : pointer;
  position : relative;

  ${d}:focus + & {
    box-shadow: 0 0 0 3px pink;
  }

  ${r} {
    visibility: ${e=>e.checked?"visible":"hidden"};
    display: flex;
    position : absolute;

  }
`;t.a=e=>{let{className:t,onChange:s,checked:a,...i}=e;const[u,b]=Object(c.useState)(a);Object(c.useEffect)((()=>{b(a)}),[a]);const j=l()("c-checkbox",{checked:u});return Object(n.jsxs)(o,{className:t,children:[Object(n.jsx)(d,{checked:u,...i,onChange:s}),Object(n.jsx)(h,{checked:u,className:j,onClick:()=>{const e=!u;b(e),s&&s(e)},children:Object(n.jsx)(r,{className:"icon",viewBox:"0 0 24 24",children:Object(n.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})}},1552:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var c=s(1629),a=s.n(c),i=(s(1633),s(1634),s(4));function l(e){let{label:t,className:s,checked:c,onClick:l}=e;const n=e=>{l&&l(!c)};return Object(i.jsxs)("div",{className:"l-toggle",children:[Object(i.jsx)("span",{className:"label-text",children:t}),Object(i.jsx)(a.a,{onClick:n,checked:c,className:s,onChange:n,icons:!1})]})}},1628:function(e,t,s){"use strict";var c=s(50);s(6),s(4);c.a.div`
width:${e=>e.width}%;
max-width:100%;
height:10px;
background-color: #5577FD;
`},1629:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},a=function(){function e(e,t){for(var s=0;s<t.length;s++){var c=t[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(t,s,c){return s&&e(t.prototype,s),c&&e(t,c),t}}(),i=s(6),l=u(i),n=u(s(59)),o=u(s(8)),r=u(s(1630)),d=u(s(1631)),h=s(1632);function u(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.handleClick=s.handleClick.bind(s),s.handleTouchStart=s.handleTouchStart.bind(s),s.handleTouchMove=s.handleTouchMove.bind(s),s.handleTouchEnd=s.handleTouchEnd.bind(s),s.handleFocus=s.handleFocus.bind(s),s.handleBlur=s.handleBlur.bind(s),s.previouslyChecked=!(!e.checked&&!e.defaultChecked),s.state={checked:!(!e.checked&&!e.defaultChecked),hasFocus:!1},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.input;if(e.target!==t&&!this.moved)return this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),void t.click();var s=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:s})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,h.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=(0,h.pointerCoord)(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var s=(0,h.pointerCoord)(e).x;!0===this.previouslyChecked&&this.startX+4>s?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<s&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var s=this.props.icons;return s?void 0===s[e]?t.defaultProps.icons[e]:s[e]:null}},{key:"render",value:function(){var e=this,t=this.props,s=t.className,a=(t.icons,function(e,t){var s={};for(var c in e)t.indexOf(c)>=0||Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c]);return s}(t,["className","icons"])),i=(0,n.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},s);return l.default.createElement("div",{className:i,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},l.default.createElement("div",{className:"react-toggle-track"},l.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),l.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),l.default.createElement("div",{className:"react-toggle-thumb"}),l.default.createElement("input",c({},a,{ref:function(t){e.input=t},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),t}(i.PureComponent);t.default=b,b.displayName="Toggle",b.defaultProps={icons:{checked:l.default.createElement(r.default,null),unchecked:l.default.createElement(d.default,null)}},b.propTypes={checked:o.default.bool,disabled:o.default.bool,defaultChecked:o.default.bool,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,className:o.default.string,name:o.default.string,value:o.default.string,id:o.default.string,"aria-labelledby":o.default.string,"aria-label":o.default.string,icons:o.default.oneOfType([o.default.bool,o.default.shape({checked:o.default.node,unchecked:o.default.node})])}},1630:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,a=s(6),i=(c=a)&&c.__esModule?c:{default:c};t.default=function(){return i.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},i.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))}},1631:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c,a=s(6),i=(c=a)&&c.__esModule?c:{default:c};t.default=function(){return i.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},i.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))}},1632:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointerCoord=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var s=t[0];return{x:s.clientX,y:s.clientY}}var c=e.pageX;if(void 0!==c)return{x:c,y:e.pageY}}return{x:0,y:0}}},1633:function(e,t,s){},1634:function(e,t,s){},1635:function(e,t,s){},1636:function(e,t,s){},1637:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var c=s(54),a=s(19),i=s(1553),l=s(1535),n=(s(1639),s(164)),o=s(4);const r=[{selector:".mining-claim",content:()=>Object(o.jsx)("div",{className:"step-one",children:"The old DERI farm is moved here"})},{selector:".showGuide",content:()=>Object(o.jsx)("div",{className:"step-one",children:"Click on the pool you\u2019ve staked"})},{selector:".deri-current-epoch",content:()=>Object(o.jsx)("div",{className:"step-one",children:"The new DERI reward is shown here"})}];function d(e){let{poolClaim:t,isThree:s=!1}=e;const{setIsOpen:d}=Object(l.b)(),h=Object(c.g)();return Object(o.jsx)("div",{children:t&&Object(o.jsx)(l.a,{steps:r,startAt:s?2:0,defaultOpen:t,components:{Close:e=>{let{onClick:t}=e;return Object(o.jsx)("img",{onClick:()=>{t(),Object(a.H)("poolClaim","true"),sessionStorage.setItem("poolGuideThree","0")},className:"close-modal",src:n.default})},Badge:e=>{let{children:t}=e;return Object(o.jsxs)("div",{className:"step-num",children:[Object(o.jsx)("span",{className:"now-step",children:t}),"  / 3"]})}},className:"pool-guide",disableFocusLock:!1,disableInteraction:!0,onClickMask:()=>{d(!0)},afterOpen:e=>Object(i.a)(e),beforeClose:e=>Object(i.b)(e),scrollSmooth:!0,nextButton:e=>{let{currentStep:t,stepsLength:s,setIsOpen:c,setCurrentStep:i}=e;const l=t===s-1;return Object(o.jsx)("button",{className:"next",onClick:()=>{if(l)c(!1),Object(a.H)("poolClaim","true"),sessionStorage.setItem("poolGuideThree","0");else{if(1===t){let e="/pool/v3_lite/97/future,power/0xAADA94FcDcD7FCd7488C8DFc8eddaac81d7F71EE";h.push(e),sessionStorage.setItem("poolGuideThree","3")}i((e=>e===r.length-1?0:e+1))}},children:l?"OK":"NEXT"})},prevButton:e=>{let{currentStep:t,stepsLength:s,setIsOpen:c,setCurrentStep:a}=e;return Object(o.jsx)(o.Fragment,{})}})})}},1639:function(e,t,s){},1711:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var c=s(6),a=s(54),i=s(1214),l=s(162),n=s(451),o=s(453),r=s(454),d=s(450),h=s(1390),u=s(455),b=s(59),j=s.n(b),p=s.p+"static/media/close.7f6b23a4.svg",m=(s(1635),s(50)),v=s(4);function f(e){let{lang:t,pool:s,wallet:b}=e;const m=Object(a.g)(),[f,x]=Object(c.useState)({}),[O,g]=Object(c.useState)(!1),[y,N]=Object(c.useState)(),[w,C]=Object(c.useState)(!0),S=e=>{e.target.src=u.default};Object(c.useEffect)((()=>{(async()=>{x({});let e=await s.getPoolInfo(b,s);x(e)})(),b.isConnected()&&((async()=>{let e=await s.getIsStaked(b,s);e&&g(e.isStaked)})(),(async()=>{if(s&&("v3"===s.version||"v3_lite"===s.version)){let e=await s.getVenusEarned(b,s.address);N(e)}})())}),[s,b.detail.account]),Object(c.useEffect)((()=>{let e=sessionStorage.getItem(s.address);null!==e&&e&&C(!1)}),[s]);const F=`/pool/${s.version||"v1"}/${s.chainId}/${s.type}/${s.address}`;return Object(v.jsxs)("div",{className:("0xAADA94FcDcD7FCd7488C8DFc8eddaac81d7F71EE"===s.address?"showGuide":"")+" card-box",children:[Object(v.jsxs)("div",{className:"v2_lite_open"===s.version?"card-list open-list":"card-list",onClick:()=>{(e=>{"v2_lite_open"!==s.version&&m.push(e)})(F)},children:[Object(v.jsxs)("div",{className:j()("card-header",{v3:s.isAllV3}),children:[Object(v.jsxs)("div",{className:"pool-network-type",children:[Object(v.jsx)("div",{className:"network-logo",children:Object(v.jsx)("img",{alt:"",src:(e=>{let t;return"56"===e||"97"===e?t=n.default:"137"===e?t=r.default:"1"===e?t=d.default:"42161"!==e&&"421611"!==e||(t=o.default),t})(s.chainId)})}),Object(v.jsxs)("div",{className:"pool-type-network-text",children:[Object(v.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==s.address&&Object(v.jsxs)(v.Fragment,{children:[t[s.type]," ",t[s.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===s.address&&Object(v.jsx)(v.Fragment,{children:t[s.zone]})]}),Object(v.jsx)("div",{className:"pool-network-text",children:s.chain.toUpperCase()})]})]}),Object(v.jsxs)("div",{className:"base-token-logo",children:[s.isLp&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"lp-base-token-bg",children:[Object(v.jsx)("div",{className:`base-token-bg ${s.bTokens[0].bTokenSymbol}`}),Object(v.jsx)("span",{className:"lp-con",children:"+"}),Object(v.jsx)("div",{className:`base-token-bg ${s.bTokens[1].bTokenSymbol}`})]})}),!s.isLp&&"v3"!==s.version&&"v3_lite"!==s.version&&Object(v.jsx)(v.Fragment,{children:s.bTokens.map(((e,t)=>Object(v.jsx)("div",{className:"base-token-box-bg",children:Object(v.jsx)("div",{className:`base-token-bg ${e.bTokenSymbol}`,children:"v2_lite_open"===s.version&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{alt:"",onError:S,src:`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${e.bTokenSymbol}.png`})})})},t)))}),("v3"===s.version||"v3_lite"===s.version)&&Object(v.jsx)(k,{bTokens:s.bTokens})]})]}),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)("div",{className:"max-apy",children:"v2_lite_open"!==s.version&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"max-apy-title",children:"v2"===s.version||"v3_lite"===s.version||"v3"===s.version?t["max-apy"]:t.apy}),Object(v.jsx)("div",{className:"max-apy-num",children:Object(v.jsx)(i.a,{value:f.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})})]})}),Object(v.jsxs)("div",{className:"total-pool-liquidity",children:[Object(v.jsx)("div",{className:"total-liquidity-title",children:t["total-pool-liquidity"]}),Object(v.jsx)("div",{className:"total-liquidity-num",children:Object(v.jsx)(i.a,{value:f.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:"lp"===s.type?7:0})})]}),Object(v.jsxs)("div",{className:"your-deri-epoch",children:[O&&Object(v.jsxs)("div",{className:"staked-box",children:[Object(v.jsx)("img",{src:h.a,alt:""}),t.staked]}),+y>0&&("v3"===s.version||"v3_lite"===s.version)&&Object(v.jsx)("span",{className:"xvs-collectable",children:Object(v.jsxs)("div",{className:"staked-box",children:[Object(v.jsx)(i.a,{width:"50px",value:y,displayType:"text",thousandSeparator:!0,decimalScale:2})," \xa0 XVS  ",t.collectable]})})]}),Object(v.jsx)("div",{className:"stake-button",children:Object(v.jsx)(l.a,{disabled:"v2_lite_open"===s.version,className:"button",outline:!0,label:"v2_lite_open"===s.version?t.operating:t.stake})})]})]}),"v3_lite"===s.version&&w&&Object(v.jsxs)("div",{className:"new-symbol",children:[Object(v.jsxs)("div",{className:"new-symbol-text",children:["New Listing : ",Object(v.jsx)("a",{href:"https://deri.io/#/trade/futures/DOGEUSDT",target:"_blank",children:"DOGEUSDT"})," ",Object(v.jsx)("a",{href:"https://deri.io/#/trade/futures/FITFIUSDT",target:"_blank",children:"FITFIUSDT"})]}),Object(v.jsx)("div",{className:"close-symbol",children:Object(v.jsx)("img",{src:p,alt:"close",onClick:()=>{return e=s.address,sessionStorage.setItem(e,!1),void C(!1);var e}})})]})]})}const x=m.a.div`
  @-webkit-keyframes explode {
    0% {
        transform: translateX(0px);
        -moz-transform : translateX(0px);
    }
    100% {
        transform: translateX(100px);
        -moz-transform : translateX(100px);
    }
  }

  @keyframes explode {
    0% {
        transform: translateX(0px);
        -moz-transform : translateX(0px);
    }
    100% {
        transform: translateX(100px);
        -moz-transform : translateX(100px);
    }
  }
  .base-token{
    margin-left: 0px!important;
    z-index : -2;
    visibility: hidden;
    background-color: #111e34;
    border : 1px solid #fff;
  }
  @media only screen and (max-width: 760px) {
    .base-token{
      display:none;
    }
  }
  .base-token-box-bg.explode:hover .move  {
    -webkit-animation : explode .4s .0s linear;
    -moz-animation :  explode .4s .0s linear;
    animation: explode .4s .0s linear;
    // transform : translateX(100px)!important;
    visibility: visible;    
  }
  
  .base-token-box-bg.explode:hover .base-token {
    z-index : 2!important;
  } 

`,O=m.a.div`
  position: absolute;
  transform : ${e=>`rotate(${-e.rotate}deg)`};
  width: 48px;
  height: 48px;
  display: inline-block;
  border-radius: 50%;
  .move {
    transform : translateX(100px) ${e=>`rotate(${e.rotate}deg) !important`};
  }
`,k=e=>{let{bTokens:t=[]}=e;const s=360/t.length;return Object(v.jsxs)(x,{className:"v3-tokens",children:[Object(v.jsx)("div",{className:"tokens",children:t.filter(((e,t)=>t<3)).map(((e,t)=>Object(v.jsx)("div",{className:"base-token-box-bg",children:Object(v.jsx)("div",{className:`base-token-bg ${e.bTokenSymbol}`})},t)))}),Object(v.jsxs)("div",{className:"base-token-box-bg explode",children:[Object(v.jsxs)("div",{className:"base-token-bg",children:[t.length-3," +"]}),t.map(((e,t)=>{const c=s*t;return Object(v.jsx)(O,{className:"base-token",rotate:c,width:"100",children:Object(v.jsx)("div",{width:"100",rotate:c,className:`base-token-bg move ${e.bTokenSymbol}`})},t)}))]})]})}},2061:function(e,t,s){},2062:function(e,t,s){},2327:function(e,t,s){"use strict";s.r(t);var c=s(6),a=s(47),i=s(162),l=(s(1628),s(167)),n=s(163),o=(s(1214),s(38)),r=s(19),d=s(1225),h=s.p+"static/media/oldDeri.3758074c.svg",u=(s(2061),s(4));function b(e){let{lang:t,getLang:s,poolShow:a=!0,wallet:b={}}=e;const[j,p]=Object(c.useState)(""),[m,v]=Object(c.useState)(0),f=Object(n.c)(),[x,O]=Object(c.useState)(0),[k,g]=Object(c.useState)(0),[y,N]=Object(c.useState)({}),[w,C]=Object(c.useState)(!1),[S,F]=Object(c.useState)(""),I=Object(l.a)(y.chainId);Object(c.useEffect)((()=>{let e=null;return e=window.setInterval((()=>{let e=28800,s=parseInt(Date.now()/1e3),c=parseInt(s/e)*e,a=c+e-s,i=parseInt(a/3600),l=parseInt(a%3600/60),n=parseInt(a%60);v(c),O(c+e),g(s),p(`${i} ${t.h} ${l} ${t.m} ${n} ${t.s}`)}),1e3),()=>{e&&clearInterval(e)}}),[]);const T=async()=>{if(b.isConnected()){const e=await o.a.request("getUserInfoAll",[b.detail.account]),t=(+e.total).toFixed(2),s=e.valid?(+e.amount).toFixed(2):0,c=e.lp,a=(+e.trade).toFixed(2),i=e.chainId;N({claimed:t,unclaimed:s,harvestDeriLp:c,harvestDeriTrade:a,chainId:i})}},E=async()=>{if(b.isConnected()){let e=await o.a.request("getUserFirstClaimInfo",[b.detail.account]);if(e.first_timestamp){let s=new Date(1e3*e.first_timestamp),c=s.getFullYear(),a=s.getMonth()+1;a=(e=>{let s;switch(e){case 1:s=t.jan;break;case 2:s=t.feb;break;case 3:s=t.mar;break;case 4:s=t.apr;break;case 5:s=t.may;break;case 6:s=t.jun;break;case 7:s=t.jul;break;case 8:s=t.aug;break;case 9:s=t.sep;break;case 10:s=t.oct;break;case 11:s=t.nov;break;case 12:s=t.dec}return s})(a);let i=s.getDate();F(`${a} ${i}, ${c}`)}else F("")}};return Object(c.useEffect)((()=>{let e=window.setInterval(T,18e4);return T(),E(),()=>clearInterval(e)}),[b.detail.account]),Object(u.jsx)("div",{className:"mining-claim",children:Object(u.jsxs)("div",{className:"mining-claim-info",children:[Object(u.jsxs)("div",{className:"deri-num-slider",children:[Object(u.jsxs)("div",{className:"deri-claim-time",children:[t["old-deri-farms"],Object(u.jsx)(d.a,{tip:t["old-deri-farms-tip"],multiline:!0,children:Object(u.jsx)("span",{children:Object(u.jsx)("img",{src:h})})})]}),Object(u.jsx)("div",{className:"deri-claim-text",children:s("old-pool-deri",{num:w?0:y.unclaimed?y.unclaimed:0})})]}),a&&Object(u.jsx)("div",{className:"cliam-button",children:Object(u.jsx)(i.a,{icon:"ClaimDeri",fontWeight:"bold",disabled:0===+y.unclaimed,label:t["claim-all"],onClick:async()=>{if(b.isConnected()){await(async()=>{if(void 0===I.name)return void f.error(`${t["wrong-network"]}`);if(!Object(r.f)(b.detail.chainId,y.chainId))return void f.error(`${t["your-deri-is-on"]} ${I.name} ${t["connect-to"]} ${I.name} ${t["to-claim"]}`);if(0===+y.unclaimed)return void f.error(t["no-deri-to-claim-yet"]);if(parseInt(Date.now()/1e3)%28800<1800)return void f.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]);let e=await o.a.request("mintDToken",[b.detail.chainId,b.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"]});return e.success?(f.success(t["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${b.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:t["claim-reward-executed"]}),!0):(""===e.response.transactionHash||f.error(`${t["transaction-failed"]} : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${b.blockExploreUrl}/tx/${e.response.transactionHash}`,title:t["claim-reward-failed"]}),!1)})()&&C(!0)}else try{return!!await b.connect()}catch(e){return!1}}})})]})})}var j=s(287),p=(s(139),s(50)),m=s(59),v=s.n(m);const f=p.a.div`
cursor:pointer;
font-weight: 600;
.dropdown-menu{
  display:none
}
.dropdown-menu.show{
  margin-top:8px;
  background: #203B60;
  display:block;
  border-radius:4px;
  z-index:8;
  position:relative;
  .dropdown-item{
    padding:0 24px;
  }
}
.btn{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  color:#FFFFFF;

}
.dropdown-item:hover{
  color:#FFFFFF
}
`;function x(e){let{selectList:t=[],onChange:s}=e;const[a,i]=Object(c.useState)(!1),[l,n]=Object(c.useState)(t[0].text),o=v()("dropdown-menu",{show:a});return Object(u.jsxs)(f,{children:[Object(u.jsxs)("div",{onClick:()=>{i(!a)},className:"btn checked",children:[l,Object(u.jsx)("img",{src:j.default,alt:""})]}),Object(u.jsx)("div",{className:o,children:t.map(((e,t)=>Object(u.jsx)("div",{className:"dropdown-item",onClick:()=>{(e=>{n(e.text),s(e.index),i(!1)})(e)},children:e.text},t)))})]})}var O=s(1552),k=s(1417),g=s(451),y=s(454),N=s(453),w=s(450),C=s(1711),S=(s(2062),s.p+"static/media/filter-close.b72edec1.svg");function F(e){let{lang:t,isShowFilter:s,checkedStaked:c,setCheckedStaked:a,setIsShowFilter:i,curTabPool:l,checkedPolygon:n,checkedETH:o,checkedOption:r,checkedFutureMain:d,checkedFutureInno:h,checkedBSC:b,checkedArb:j,setCheckedOption:p,setCheckedFutureMain:m,setCheckedFutureInno:v,setCheckedPolygon:f,setCheckedBSC:x,setCheckedArb:C,setCheckedETH:F,clearFilter:I}=e;return Object(u.jsxs)("div",{className:"filter-modal",children:[Object(u.jsx)("div",{className:"close-filter-modal",children:Object(u.jsx)("span",{className:"close-icon",onClick:()=>{i()},children:Object(u.jsx)("img",{alt:"",src:S})})}),Object(u.jsxs)("div",{className:"staked-only",children:[Object(u.jsx)("div",{className:"staked-only-text",children:t["staked-only"]}),Object(u.jsx)("div",{children:Object(u.jsx)(O.a,{className:"l-toggle",checked:c,onClick:e=>{a(e)}})})]}),Object(u.jsx)("div",{className:"select-pool-type-network",children:Object(u.jsxs)("div",{className:"network",children:[Object(u.jsx)("div",{className:"type-cols",children:t.network}),Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[Object(u.jsx)("img",{alt:"",src:g.default})," BNB Chain"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:b,className:"l-checkbox",onChange:e=>{x(e)}})})]}),"deri"!==l&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[" ",Object(u.jsx)("img",{alt:"",src:N.default})," Arbitrum"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:j,className:"l-checkbox",onChange:e=>{C(e)}})})]}),Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[Object(u.jsx)("img",{alt:"",src:y.default})," Polygon"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:n,className:"l-checkbox",onChange:e=>{f(e)}})})]})]}),"deri"===l&&Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[Object(u.jsx)("img",{alt:"",src:w.default})," Ethereum"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:o,className:"l-checkbox",onChange:e=>{F(e)}})})]})]})}),Object(u.jsx)("div",{className:"select-footer",children:Object(u.jsx)("div",{className:"clear-all-filter",onClick:()=>{I()},children:t["clear-all-filter"]})})]})}var I=s.p+"static/media/filter.057de510.svg",T=(s(1636),s(28)),E=s(1637);t.default=Object(a.b)("wallet","poolManager")(Object(a.c)((function(e){let{lang:t,getLang:s,wallet:a={},poolManager:i}=e;const[l,n]=Object(c.useState)("amm"),[d,h]=Object(c.useState)(!1),[p,m]=Object(c.useState)(t["deri-pool-title"]),[v,f]=Object(c.useState)([]),[S,_]=Object(c.useState)(!1),[$,D]=Object(c.useState)(!1),[P,B]=Object(c.useState)(!1),[M,X]=Object(c.useState)(!1),[L,A]=Object(c.useState)(!1),[H,z]=Object(c.useState)(!1),[q,U]=Object(c.useState)(!1),[R,G]=Object(c.useState)(!1),[V,W]=Object(c.useState)(!1),[Z,Y]=Object(c.useState)([]),[J,K]=Object(c.useState)([]),[Q,ee]=Object(c.useState)(!1),te=[{text:t["deri-pool-title"],index:"official"},{text:t["open-pool-title"],index:"open"}],se=e=>{"official"===e?(f(i.ammPools),h(!1)):"open"===e&&(f([]),ae(),h(!0))},ce=()=>{_(!1),B(!1),X(!1),U(!1),A(!1),G(!1)};Object(c.useEffect)((()=>{a.isConnected()&&(async()=>{let e=[...i.ammPools,...i.lpPools],t=await Promise.all(e.map((async e=>{let t=[e.chainId,e.address,a.detail.account];return!!(await o.a.request("getUserStakeInfo",t)).isStaked&&e})));t=t.filter((e=>e));let s=t.filter((e=>"lp"!==e.type)),c=t.filter((e=>"lp"===e.type));Y(s),K(c)})()}),[a.detail,i,l]),Object(c.useEffect)((()=>{let e=[],t="amm"===l?i.ammPools:i.lpPools;if(S){let s=t.filter((e=>"option"===e.type));e=[...e,...s]}if(P){let s=t.filter((e=>("v2"===e.version||"v3"===e.version)&&"option"!==e.type));e=[...e,...s]}if(M){let s=t.filter((e=>"v2_lite"===e.version||"v3_lite"===e.version));e=[...e,...s]}if(L){if(e=[],S){let s=t.filter((e=>(56===+e.chainId||97===+e.chainId)&&"option"===e.type));e=[...e,...s]}if(P){let s=t.filter((e=>(56===+e.chainId||97===+e.chainId)&&("v2"===e.version||"v3"===e.version)&&"option"!==e.type));e=[...e,...s]}if(M){let s=t.filter((e=>(56===+e.chainId||97===+e.chainId)&&("v2_lite"===e.version||"v3_lite"===e.version)));e=[...e,...s]}if(!S&&!P&&!M){let s=t.filter((e=>56===+e.chainId||97===+e.chainId));e=[...e,...s]}}if(H){if(e=[],S){let s=t.filter((e=>(42161===+e.chainId||421611===+e.chainId)&&"option"===e.type));e=[...e,...s]}if(P){let s=t.filter((e=>(42161===+e.chainId||421611===+e.chainId)&&"v3"===e.version&&"option"!==e.type));e=[...e,...s]}if(M){let s=t.filter((e=>(42161===+e.chainId||421611===+e.chainId)&&("v2_lite"===e.version||"v3_lite"===e.version)));e=[...e,...s]}if(!S&&!P&&!M){let s=t.filter((e=>42161===+e.chainId||421611===+e.chainId));e=[...e,...s]}}if(q){if(e=[],S){let s=t.filter((e=>137===+e.chainId&&"option"===e.type));e=[...e,...s]}if(P){let s=t.filter((e=>137===+e.chainId&&("v2"===e.version||"v3"===e.version)&&"option"!==e.type));e=[...e,...s]}if(M){let s=t.filter((e=>137===+e.chainId&&("v2_lite"===e.version||"v3_lite"===e.version)));e=[...e,...s]}if(!S&&!P&&!M){let s=t.filter((e=>137===+e.chainId));e=[...e,...s]}}if(L&&q&&H){e=[];let s=t.filter((e=>137===+e.chainId||56===+e.chainId||4261===+e.chainId));e=[...e,...s]}if(R){let s=t.filter((e=>1===+e.chainId));e=[...e,...s]}S||P||M||L||q||R||H||(e=t),f(e)}),[S,P,M,L,q,R,H]);const ae=async()=>{await i.loadOpen(),f(i.openPools)};return Object(c.useEffect)((()=>{m(d?t["open-pool-title"]:t["deri-pool-title"])}),[d]),Object(c.useEffect)((()=>{i.load()}),[]),Object(c.useEffect)((()=>{"amm"===l?d||(f([]),f(V?Z:i.ammPools)):"deri"===l&&(f([]),f(V?J:i.lpPools))}),[l,V]),Object(c.useEffect)((()=>{f(i.ammPools)}),[i.pools]),Object(c.useEffect)((()=>{if(a.isConnected()){"true"===Object(r.m)("poolClaim")?ee(!1):v&&ee(!0)}}),[a,v,a.detail]),Object(u.jsxs)("div",{className:"pool-box",children:[Q&&Object(u.jsx)(E.a,{poolClaim:Q}),Object(u.jsxs)("div",{className:"pool-info",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("div",{className:"left-header-info",children:Object(u.jsxs)("div",{className:"pool-title",children:[Object(u.jsx)("div",{className:"pool-title-text",children:p}),Object(u.jsx)("div",{className:"pool-title-select-text",children:!d&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"pool-test-des",children:t["pool-title-des"]})})}),Object(u.jsx)("div",{className:"select-pool-ves",children:Object(u.jsx)(x,{selectList:te,onChange:se})}),Object(u.jsx)("div",{className:"simple-select-ves",children:Object(u.jsx)("img",{alt:"",src:j.default})})]})}),Object(u.jsxs)("div",{className:"pool-card-claim-bg",children:[!d&&Object(u.jsx)("div",{className:"pool-tab",children:Object(u.jsxs)("div",{className:"pool-tab-info",children:[Object(u.jsxs)("div",{className:"tab-mining",children:[Object(u.jsx)("div",{className:"amm"===l?"pool-active":"pool-unactive",onClick:()=>{n("amm")},children:t["amm-liquidity-mining"]}),Object(u.jsx)("div",{className:"deri"===l?"pool-active":"pool-unactive",onClick:()=>{n("deri")},children:t["deri-liquidity-mining"]})]}),Object(u.jsxs)("div",{className:"simple-tab-mining",children:[Object(u.jsx)("div",{className:"amm"===l?"pool-active":"pool-unactive",onClick:()=>{n("amm")},children:t.amm}),Object(u.jsx)("div",{className:"deri"===l?"pool-active":"pool-unactive",onClick:()=>{n("deri")},children:t["type-deri"]})]}),Object(u.jsxs)("div",{className:"filter",children:[Object(u.jsx)("img",{alt:"",src:I,className:"filter-img",onClick:()=>{D(!$)}}),$&&Object(u.jsx)(F,{curTabPool:l,lang:t,isShowFilter:$,checkedStaked:V,setCheckedStaked:W,setIsShowFilter:D,setCheckedOption:_,setCheckedFutureMain:B,setCheckedFutureInno:X,setCheckedPolygon:U,setCheckedBSC:A,setCheckedArb:z,setCheckedETH:G,clearFilter:ce,checkedPolygon:q,checkedETH:R,checkedOption:S,checkedFutureMain:P,checkedFutureInno:M,checkedBSC:L,checkedArb:H})]})]})}),Object(u.jsx)("div",{className:"pool-card",children:v.map(((e,s)=>Object(u.jsx)(C.a,{wallet:a,lang:t,pool:e},s)))}),!d&&Object(u.jsx)(b,{lang:t,wallet:a,getLang:s})]})]}),Object(u.jsx)("div",{className:"right",children:Object(u.jsxs)("div",{className:"right-info",children:[Object(u.jsxs)("div",{className:"select-pool-ves-staked",children:[Object(u.jsx)("div",{className:"select-pool-ves",children:Object(u.jsx)(x,{selectList:te,onChange:se})}),!d&&Object(u.jsxs)("div",{className:"staked-only",children:[Object(u.jsx)("div",{className:"staked-only-text",children:t["staked-only"]}),Object(u.jsx)("div",{children:Object(u.jsx)(O.a,{className:"l-toggle",checked:V,onClick:e=>{W(e)}})})]})]}),!d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"select-pool-type-network",children:Object(u.jsxs)("div",{className:"network",children:[Object(u.jsx)("div",{className:"type-cols",children:t.network}),Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[" ",Object(u.jsx)("img",{alt:"",src:g.default})," BNB Chain"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:L,className:"l-checkbox",onChange:e=>{A(e)}})})]}),"deri"!==l&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[" ",Object(u.jsx)("img",{alt:"",src:N.default})," Arbitrum"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:H,className:"l-checkbox",onChange:e=>{z(e)}})})]}),Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[" ",Object(u.jsx)("img",{alt:"",src:y.default})," Polygon"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:q,className:"l-checkbox",onChange:e=>{U(e)}})})]})]}),"deri"===l&&Object(u.jsxs)("div",{className:"type-cols",children:[Object(u.jsxs)("div",{className:"type-title",children:[Object(u.jsx)("img",{alt:"",src:w.default})," Ethereum"]}),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{checked:R,className:"l-checkbox",onChange:e=>{G(e)}})})]})]})}),Object(u.jsxs)("div",{className:"select-footer",children:[Object(u.jsx)("div",{className:"clear-all-filter",onClick:ce,children:t["clear-all-filter"]}),Object(u.jsx)("div",{className:"deri-logo",children:Object(u.jsx)(T.a,{token:"pool-deri-logo",width:"72",height:"84"})})]})]})]})})]})]})})))}}]);
//# sourceMappingURL=18.8aa12c3d.chunk.js.map