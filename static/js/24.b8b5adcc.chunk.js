(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[24],{1226:function(e,t,i){"use strict";var a,c,s=i(27),l=i(193),d=i(62),n=i(10),r=i(61),o=i(6),j=(i(69),i(1277)),u=i(52),b=i(20),h=i(15),m=i(4),O=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],v=Object(u.a)(j.a)(a||(a=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),x=u.a.div(c||(c=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(o.useState)(Object(m.jsx)("span",{className:"loading-line"})),i=Object(n.a)(t,2),a=i[0],c=i[1],r=Object(o.useState)(!0),j=Object(n.a)(r,2),u=j[0],p=j[1],f=function(){var t=e.allowZero;return"object"!==Object(d.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},w=function(e){return e&&e.replace(/\.$/,"")};return Object(o.useEffect)((function(){var t=e.allowZero,i=(e.wallet,e.closeShowLoadingEffectAfterLoaded),a=e.defaultValue,d=void 0===a?"--":a,n=Object(l.a)(e,O);if(f())n.decimalScale>0&&!t&&n.value&&/\d+\.0*[1-9]+/.test(n.value)&&0===+Object(h.bg)(n.value).toFixed(+n.decimalScale||2)&&(n.decimalScale=Object(b.d)(Math.abs(n.value))+2),-1===n.decimalScale&&delete n.decimalScale,n.value=Object(b.J)(n.value),n.value&&/\d+.9{6}/.test(n.value)&&(n.value=(+n.value).toFixed(5)),c(Object(m.jsx)(v,Object(s.a)(Object(s.a)({},n),{},{renderText:w,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var r=e.width,o=e.height;c(Object(m.jsx)(x,{className:"loading-line",width:r,height:o})),i&&p(!1)}var j=window.setTimeout((function(){f()||c(d)}),6e4);return function(){clearTimeout(j)}}),[e.value,e.decimalScale,e.suffix]),a}},2151:function(e,t,i){},2369:function(e,t,i){"use strict";i.r(t);var a=i(6),c=i(48),s=i(20),l=i(170),d=i(1226),n=i(169),r=i(38),o=i.p+"static/media/time.0b0bfc0e.svg",j=i.p+"static/media/pToken.9cfdd57f.svg",u=(i(2151),i(4));t.default=Object(c.b)("wallet","poolManager")(Object(c.c)((function(e){let{lang:t,wallet:i={},type:c="deri"}=e;const[b,h]=Object(a.useState)(0),[m,O]=Object(a.useState)(!0),v=Object(l.c)(),[x,p]=Object(a.useState)({}),[f,w]=Object(a.useState)(!1),[g,N]=Object(a.useState)(!0),[S,T]=Object(a.useState)(!0),k=async()=>{if(i.isConnected()){let e=await r.a.request("getDeriBalance",[i.detail.chainId,i.detail.account]);h(e)}};return Object(a.useEffect)((()=>{i.isConnected()&&(k(),"pToken"===c?((async()=>{let e=await r.a.request("isUserInPTokenWhiteListV3",[i.detail.chainId,i.detail.account]);w(e)})(),(async()=>{let e=await r.a.request("isPTokenAirdroppedV3",[i.detail.chainId,i.detail.account]);N(e)})(),(async()=>{let e=await r.a.request("isUserPTokenExistV3",[i.detail.chainId,i.detail.account]);T(e)})()):(async()=>{let e=await r.a.request("getUserInfoAllForAirDrop",[i.detail.account]),t=1e3*e.deadline;p(e),O(!e.valid);let a=new Date;a.getTime()>=t&&O(!0),a.getTime()>=1647e9&&O(!0)})())}),[i,i.detail,c]),Object(a.useEffect)((()=>{if(f&&!S&&!g){(new Date).getTime()>=16497576e5?O(!0):O(!1)}}),[f,S,g]),Object(u.jsx)("div",{className:"airdrop-box",children:Object(u.jsx)("div",{className:"airdrop-info",children:Object(u.jsxs)("div",{className:"airdrop-info-box",children:[Object(u.jsx)("div",{className:"airdrop-title",children:t.title}),Object(u.jsxs)("div",{className:"wallet-address",children:[Object(u.jsx)("span",{className:"blue-logo"}),Object(s.i)(i.detail.account)]}),Object(u.jsxs)("div",{className:"wallet-balance",children:[t["wallet-balance"]," : ",Object(u.jsx)(d.a,{value:b,decimalScale:0,thousandSeparator:!0})," DERI"]}),"pToken"===c&&Object(u.jsxs)("div",{className:"airdrop-time position-text",children:[Object(u.jsx)("div",{className:"time-logo",children:Object(u.jsx)("img",{src:j,alt:""})}),Object(u.jsx)("div",{className:"time-text",children:Object(u.jsxs)("div",{className:"time-title",children:[Object(u.jsx)("div",{children:"Get free mBTC^2 perpetual"}),Object(u.jsx)("div",{children:"powers position"})]})})]}),"pToken"===c&&Object(u.jsxs)("div",{className:"airdrop-time position",children:[Object(u.jsx)("div",{className:"time-logo",children:Object(u.jsx)("img",{src:o,alt:""})}),Object(u.jsxs)("div",{className:"time-text",children:[Object(u.jsxs)("div",{className:"time-title",children:[Object(u.jsx)("div",{children:t["start-time"]}),Object(u.jsx)("div",{children:t["expire-time"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"2022-04-08 10:00:00 UTC"}),Object(u.jsx)("div",{children:"2022-04-12 10:00:00 UTC"})]})]})]}),"deri"===c&&Object(u.jsxs)("div",{className:"airdrop-time",children:[Object(u.jsx)("div",{className:"time-logo",children:Object(u.jsx)("img",{src:o,alt:""})}),Object(u.jsxs)("div",{className:"time-text",children:[Object(u.jsxs)("div",{className:"time-title",children:[Object(u.jsx)("div",{children:t["start-time"]}),Object(u.jsx)("div",{children:t["expire-time"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"2022-03-09 10:00:00 UTC"}),Object(u.jsx)("div",{children:"2022-03-11 12:00:00 UTC"})]})]})]}),Object(u.jsx)("div",{className:"claim",children:Object(u.jsx)(n.a,{fontWeight:"bold",disabled:m,label:t.claim,width:"277",height:"72",fontSize:"32",onClick:async()=>{if("pToken"===c){let e=await r.a.request("airdropPTokenV3",[i.detail.chainId,i.detail.account],{includeResponse:!0});e.success||v.error(t["claim-failed"]),e.success&&(v.success("Claim Airdrop",{timeout:5e3,isTransaction:!0,link:`${i.blockExploreUrl}/tx/${e.response.data.blockHash}`,title:"Claim Airdrop Executed"}),O(!0))}else{if(!x.valid)return void v.error(t["no-deri-to-claim"]);if(!Object(s.f)(i.detail.chainId,x.chainId))return void v.error(t["please-switch-to-BSC-to-claim-deri"]);let e=await r.a.request("mintAirdrop",[x.chainId,i.detail.account],{includeResponse:!0});e.success||v.error(t["claim-failed"]),e.success&&O(!0),k()}}})})]})})})})))}}]);
//# sourceMappingURL=24.b8b5adcc.chunk.js.map