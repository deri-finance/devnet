(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[24],{1205:function(e,t,i){"use strict";var a=i(4),c=(i(63),i(1250)),s=i(50),l=i(17),d=i(10),n=i(2);const r=Object(s.a)(c.a)`
  width : ${e=>e.width}px;
`,o=s.a.div`
  width : ${e=>/px$/.test(e.width)?e.width:`${e.width}px`};
  height : ${e=>/px$/.test(e.height)?e.height:`${e.height}px`};
`;t.a=function(e){const[t,i]=Object(a.useState)(Object(n.jsx)("span",{className:"loading-line"})),[c,s]=Object(a.useState)(!0),j=()=>{const{allowZero:t}=e;return"object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},b=e=>e&&e.replace(/\.$/,"");return Object(a.useEffect)((()=>{const{allowZero:t,wallet:a,closeShowLoadingEffectAfterLoaded:u,defaultValue:h="--",...m}=e;if(j())m.decimalScale>0&&!t&&m.value&&/\d+\.0*[1-9]+/.test(m.value)&&0===+Object(d.bg)(m.value).toFixed(+m.decimalScale||2)&&(m.decimalScale=Object(l.d)(Math.abs(m.value))+2),-1===m.decimalScale&&delete m.decimalScale,m.value=Object(l.J)(m.value),m.value&&/\d+.9{6}/.test(m.value)&&(m.value=(+m.value).toFixed(5)),i(Object(n.jsx)(r,{...m,renderText:b,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0}));else if(c){const{width:t,height:a}=e;i(Object(n.jsx)(o,{className:"loading-line",width:t,height:a})),u&&s(!1)}const x=window.setTimeout((()=>{j()||i(h)}),6e4);return()=>{clearTimeout(x)}}),[e.value,e.decimalScale,e.suffix]),t}},2125:function(e,t,i){},2328:function(e,t,i){"use strict";i.r(t);var a=i(4),c=i(47),s=i(17),l=i(165),d=i(1205),n=i(164),r=i(37),o=i.p+"static/media/time.0b0bfc0e.svg",j=i.p+"static/media/pToken.9cfdd57f.svg",b=(i(2125),i(2));t.default=Object(c.b)("wallet","poolManager")(Object(c.c)((function(e){let{lang:t,wallet:i={},type:c="deri"}=e;const[u,h]=Object(a.useState)(0),[m,x]=Object(a.useState)(!0),O=Object(l.c)(),[v,p]=Object(a.useState)({}),[f,w]=Object(a.useState)(!1),[g,N]=Object(a.useState)(!0),[T,S]=Object(a.useState)(!0),k=async()=>{if(i.isConnected()){let e=await r.a.request("getDeriBalance",[i.detail.chainId,i.detail.account]);h(e)}};return Object(a.useEffect)((()=>{i.isConnected()&&(k(),"pToken"===c?((async()=>{let e=await r.a.request("isUserInPTokenWhiteListV3",[i.detail.chainId,i.detail.account]);w(e)})(),(async()=>{let e=await r.a.request("isPTokenAirdroppedV3",[i.detail.chainId,i.detail.account]);N(e)})(),(async()=>{let e=await r.a.request("isUserPTokenExistV3",[i.detail.chainId,i.detail.account]);S(e)})()):(async()=>{let e=await r.a.request("getUserInfoAllForAirDrop",[i.detail.account]),t=1e3*e.deadline;p(e),x(!e.valid);let a=new Date;a.getTime()>=t&&x(!0),a.getTime()>=1647e9&&x(!0)})())}),[i,i.detail,c]),Object(a.useEffect)((()=>{if(f&&!T&&!g){(new Date).getTime()>=16497576e5?x(!0):x(!1)}}),[f,T,g]),Object(b.jsx)("div",{className:"airdrop-box",children:Object(b.jsx)("div",{className:"airdrop-info",children:Object(b.jsxs)("div",{className:"airdrop-info-box",children:[Object(b.jsx)("div",{className:"airdrop-title",children:t.title}),Object(b.jsxs)("div",{className:"wallet-address",children:[Object(b.jsx)("span",{className:"blue-logo"}),Object(s.i)(i.detail.account)]}),Object(b.jsxs)("div",{className:"wallet-balance",children:[t["wallet-balance"]," : ",Object(b.jsx)(d.a,{value:u,decimalScale:0,thousandSeparator:!0})," DERI"]}),"pToken"===c&&Object(b.jsxs)("div",{className:"airdrop-time position-text",children:[Object(b.jsx)("div",{className:"time-logo",children:Object(b.jsx)("img",{src:j,alt:""})}),Object(b.jsx)("div",{className:"time-text",children:Object(b.jsxs)("div",{className:"time-title",children:[Object(b.jsx)("div",{children:"Get free mBTC^2 perpetual"}),Object(b.jsx)("div",{children:"powers position"})]})})]}),"pToken"===c&&Object(b.jsxs)("div",{className:"airdrop-time position",children:[Object(b.jsx)("div",{className:"time-logo",children:Object(b.jsx)("img",{src:o,alt:""})}),Object(b.jsxs)("div",{className:"time-text",children:[Object(b.jsxs)("div",{className:"time-title",children:[Object(b.jsx)("div",{children:t["start-time"]}),Object(b.jsx)("div",{children:t["expire-time"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"2022-04-08 10:00:00 UTC"}),Object(b.jsx)("div",{children:"2022-04-12 10:00:00 UTC"})]})]})]}),"deri"===c&&Object(b.jsxs)("div",{className:"airdrop-time",children:[Object(b.jsx)("div",{className:"time-logo",children:Object(b.jsx)("img",{src:o,alt:""})}),Object(b.jsxs)("div",{className:"time-text",children:[Object(b.jsxs)("div",{className:"time-title",children:[Object(b.jsx)("div",{children:t["start-time"]}),Object(b.jsx)("div",{children:t["expire-time"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"2022-03-09 10:00:00 UTC"}),Object(b.jsx)("div",{children:"2022-03-11 12:00:00 UTC"})]})]})]}),Object(b.jsx)("div",{className:"claim",children:Object(b.jsx)(n.a,{fontWeight:"bold",disabled:m,label:t.claim,width:"277",height:"72",fontSize:"32",onClick:async()=>{if("pToken"===c){let e=await r.a.request("airdropPTokenV3",[i.detail.chainId,i.detail.account],{includeResponse:!0});e.success||O.error(t["claim-failed"]),e.success&&(O.success("Claim Airdrop",{timeout:5e3,isTransaction:!0,link:`${i.blockExploreUrl}/tx/${e.response.data.blockHash}`,title:"Claim Airdrop Executed"}),x(!0))}else{if(!v.valid)return void O.error(t["no-deri-to-claim"]);if(!Object(s.f)(i.detail.chainId,v.chainId))return void O.error(t["please-switch-to-BSC-to-claim-deri"]);let e=await r.a.request("mintAirdrop",[v.chainId,i.detail.account],{includeResponse:!0});e.success||O.error(t["claim-failed"]),e.success&&x(!0),k()}}})})]})})})})))}}]);
//# sourceMappingURL=24.d041202a.chunk.js.map