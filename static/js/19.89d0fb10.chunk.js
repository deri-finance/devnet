(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[19],{1239:function(e,t,a){"use strict";var i,n,s=a(63),c=a(192),l=a(56),o=a(14),r=a(62),d=a(6),b=(a(69),a(1309)),j=a(51),u=a(20),p=a(16),h=a(5),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(j.a)(b.a)(i||(i=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=j.a.div(n||(n=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),i=a[0],n=a[1],r=Object(d.useState)(!0),b=Object(o.a)(r,2),j=b[0],f=b[1],O=function(){var t=e.allowZero;return"object"!==Object(l.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),i=e.defaultValue,l=void 0===i?"--":i,o=Object(c.a)(e,x);if(O())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(u.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(u.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),n(Object(h.jsx)(m,Object(s.a)(Object(s.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(j){var r=e.width,d=e.height;n(Object(h.jsx)(v,{className:"loading-line",width:r,height:d})),a&&f(!1)}var b=window.setTimeout((function(){O()||n(l)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),i}},1251:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i,n=a(62),s=a(51),c=a(1351),l=a.n(c),o=a(145),r=a(20),d=a(1329),b=a(5),j=s.a.div(i||(i=Object(n.a)(["\n  display:",";\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:","\n  }\n  \n  .__react_component_tooltip.tooltip.show {\n    font-weight : "," \n  }\n"])),(function(e){return e.block}),(function(e){return e.block}),(function(e){return e.isWin?400:600}));function u(e){var t=e.text,a=e.id,i=void 0===a?String((new Date).getTime())+Math.random():a,n=e.tip,s=e.multiline,c=e.html,u=e.className,p=e.element,h=void 0===p?"":p,x=e.block,m=void 0===x?"block":x,v=e.width,f=void 0===v?"auto":v,O=e.children,g=e.tiggerEvent;return Object(b.jsxs)(j,{className:u,block:m,isWin:d.isWindows,children:[Object(b.jsx)("div",{className:"text","data-for":i,"data-tip":c?l.a.renderToString(h):n,"data-event":Object(r.z)()?"click":g,"data-html":c,children:t||O}),n&&Object(b.jsx)(o.a,{id:i,width:f,padding:"12",place:"bottom",overridePosition:function(e,t,a,i,n,s,c,l){var o=a.getBoundingClientRect(),r=i.getBoundingClientRect(),d=o.x,b=o.y,j=o.height,u=o.width;e.left,e.top;return d+r.width/2>document.documentElement.clientWidth?d-=Math.abs(u-r.width):d-(r.width-u)/2<0?d-=u:d-=(r.width-u)/2,b+j+r.height>=document.documentElement.clientHeight?b=b+j-r.height:b+=j,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:c,borderRadius:8,multiline:s})]})}},1305:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(14),s=a(62),c=a(6),l=a(168),o=a(51),r=a(5),d=o.a.div(i||(i=Object(s.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,i=e.selectedBorderColor,s=e.defaultBorderColor,o=e.onChange,b=e.defaultValue,j=e.outline,u=e.outlineColor,p=e.width,h=e.height,x=e.bgColor,m=e.className,v=e.disabled,f=e.canUnselected,O=void 0===f||f,g=Object(c.useState)(b),y=Object(n.a)(g,2),k=y[0],w=y[1];return Object(c.useEffect)((function(){w(b)}),[b]),Object(r.jsx)(d,{className:m,children:a.map((function(e,t){return Object(r.jsx)(l.a,{label:e,selectedBorderColor:i,isSelected:e===k,disabled:v,outline:j,bgColor:x,className:"g-button",defaultBorderColor:s,outlineColor:u,width:p,height:h,onClick:function(){var t;(t=e)!==k?(w(t),o&&o(t)):O&&t===k?(w(""),o&&o("")):w(t)}},t)}))})}},1352:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(6),n=a(51),s=a(16),c=a(1251),l=a(5);const o=n.a.div`
display : flex;
font-size : 14px;
align-items : center;
background: rgba(85, 119, 253, 0.1);
border-radius: 4px;
justify-content: space-between;
input {
  background: transparent;
  border-radius: 4px;
  // min-width: 240px;
  border: 0;
  width : ${e=>e.inputWidth};
  height: ${e=>e.inputHeight};
  color : #E0ECFF;
  font-size : 18px;
  padding-left: 16px;
}
input:focus {
  outline: none;
}
.unit {
  margin-right: ${e=>e.unitPadding};
}
`;function r(e){let{value:t,unit:a,unitTip:n,max:r,step:d,onChange:b,styles:j={},disableNegtive:u=!0,focus:p,placeholder:h="",unitPadding:x="24px",minTradeVolume:m,decimal:v=2,readOnly:f,inputWidth:O="50%",inputHeight:g="56px",className:y,disabled:k=!1,onBlur:w,onFocus:N}=e;const S=Object(i.useRef)(null);return Object(i.useEffect)((()=>{S.current.setCustomValidity(""),S.current&&p&&S.current.focus()}),[p]),Object(l.jsxs)(o,{unitPadding:x,inputWidth:O,inputHeight:g,className:y,style:{...j},children:[Object(l.jsx)("input",{placeholder:h,type:"number",onBlur:w,onFocus:N,disabled:k,value:t,step:d,ref:S,onChange:e=>{const t=new RegExp(`\\d+\\.\\d{0,${v}}$`),{value:a}=e.target;if(r&&Object(s.bg)(a).gt(r))b&&b(r);else if(u&&(a<0||isNaN(a)))b&&b("");else if(a)if(m>=1)if(a/m>=1)b&&b(Object(s.bg)(a).div(m).integerValue()*m);else{const e=a*m;b&&b(e)}else if(/\d+\./.test(a)&&!t.test(a)){const e=a.substring(0,a.indexOf(".")+1+v);b&&b(e)}else b&&b(a);else b&&b(a)},readOnly:f}),Object(l.jsx)("div",{className:"unit",children:n?Object(l.jsx)(c.a,{tip:n,text:a}):a})]})}},1397:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(14),s=a(62),c=a(51),l=a(6),o=a(28),r=a(5),d=c.a.div(i||(i=Object(s.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function b(e){var t=e.tabSet,a=e.inactiveBgColor,i=e.iconMarginRight,s=e.activeBgColor,c=(e.icon,e.className),b=e.width,j=void 0===b?238:b,u=e.height,p=void 0===u?47:u,h=e.size,x=void 0===h?16:h,m=e.borderTop,v=void 0!==m&&m,f=e.borderBottom,O=void 0!==f&&f,g=e.divider,y=void 0!==g&&g,k=e.activeIndex,w=void 0===k?0:k,N=Object.keys(t),S=Object(l.useState)(N[w]),T=Object(n.a)(S,2),C=T[0],I=T[1],$=Object(l.useState)(),q=Object(n.a)($,2),E=q[0],F=q[1],_=Object(l.useState)(),L=Object(n.a)(_,2),B=L[0],H=L[1],A=Object(l.useState)(),R=Object(n.a)(A,2),U=R[0],D=R[1],P=Object(l.useState)(),z=Object(n.a)(P,2),Z=z[0],V=z[1],W=Object(l.useState)(),M=Object(n.a)(W,2),K=M[0],X=M[1],J=Object(l.useState)(),G=Object(n.a)(J,2),Q=G[0],Y=G[1];return Object(l.useEffect)((function(){var e=Object.keys(t);I(e[w])}),[t,w]),Object(l.useEffect)((function(){var e=Object.keys(t),a=C||e[w];if(t[a]){F(t[a].style);var i=v?"border-top:1px solid ".concat(t[a].borderColor):"border-top:0",n=O?"border-bottom:1px solid ".concat(t[a].borderColor):"border-bottom:0",s=y?"border-left:1px solid ".concat(t[a].borderColor):"border-left:0",c=y?"border-right:1px solid ".concat(t[a].borderColor):"border-right:0",l=t[a].fontColor?t[a].fontColor:"#FFFFFF";H(i),D(s),V(n),X(c),Y(l)}}),[t,C]),Object(r.jsxs)("div",{style:E,className:c,children:[Object(r.jsx)(d,{className:"tab-header",iconMarginRight:i,width:j,height:p,activeFontColor:Q,activeBgColor:s,inactiveBgColor:a,size:x,borderT:B,borderB:Z,borderL:U,borderR:K,children:N.map((function(e,a){return Object(r.jsxs)("div",{className:"".concat(t[e].direction||t[e].className,e===C?" active":" inactive"),onClick:function(t){return function(e,t){I(e)}(e)},children:[t[e].icon?Object(r.jsx)(o.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===C?t[e].icon:t[e].inicon}):"","  ",e]},a)}))}),t[C]?t[C].content:""]})}},1419:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1434:function(e,t,a){"use strict";var i=a(6),n=a(168),s=a(45),c=a(126),l=a(37),o=a(16),r=a(20),d=(a(1672),a(5));function b(){return Object(d.jsx)("div",{class:"sleepContentView",children:Object(d.jsx)("div",{class:"circle"})})}var j=a(28);a(1673);t.a=Object(s.b)("wallet")(Object(s.c)((function(e){let{lang:t,subject:a,wallet:s,pool:u={},ignoreApprove:p,bTokenId:h,bToken:x,icon:m,label:v,onClick:f,isReady:O,disabled:g=!0,statusCallback:y,alert:k,...w}=e;const[N,S]=Object(i.useState)(!0),[T,C]=Object(i.useState)(v),[I,$]=Object(i.useState)(!1),[q,E]=Object(i.useState)(!1),[F,_]=Object(i.useState)(!1),[L,B]=Object(i.useState)(!1),[H,A]=Object(i.useState)(m),R=Object(i.useCallback)((async(e,t)=>{let a;if(e.detail&&t.address)if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.y)(t.address))a=await l.a.request("isLpUnlocked",[e.detail.chainId,t.address,e.detail.account]);else if(h||x){const i=[e.detail.chainId,t.address,e.detail.account,h||x];a=await l.a.request("isUnlocked",i)}return a}),[x,h]),U=Object(i.useCallback)((async()=>{if(s&&u){let e;if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.y)(u.address))e=await l.a.request("unlockLp",[s.detail.chainId,u.address,s.detail.account],{write:!0,subject:t.approve});else{let a=[s.detail.chainId,u.address,s.detail.account,h||x];e=await l.a.request("unlock",a,{write:!0,subject:Object(r.h)(t.approve.toLowerCase())})}if(e){if(e.status)k.success(`Approve ${x}`,{timeout:8e3,isTransaction:!0,transactionHash:e.transactionHash,link:`${s.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Executed"});else{if(""===e.transactionHash)return!1;k.error(`Transaction Failed ${e.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.transactionHash,link:`${s.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Failed"})}return e.status}}}),[u,s,h,x]);return Object(i.useEffect)((async()=>{u&&s.detail&&s.detail.account&&u.bTokens&&t&&(s.isConnected()?await R(s,u)?($(!1),C(v),A(m),y&&y(!1)):($(!0),A(m),y&&y(!0)):(C(t["connect-wallet"]),A(null)))}),[u,s,t,x,h]),Object(i.useEffect)((()=>{S(!g)}),[g]),Object(i.useEffect)((()=>{s&&u&&u.address&&(s.setAddress(u.address),u.isV3||u.isV3Lite?s.setBToken(x):s.setBTokenId(h))}),[s,u,h,x]),Object(d.jsxs)("div",{children:[Object(d.jsx)(n.a,{...w,disabled:!N,label:T,onClick:async e=>{if(u&&s&&s.detail){if(B(!0),s.isConnected()){if(p||await R(s,u))return A(m),f(e);{A(m);let e=await U();if(e){E(!0),await f()&&_(!0),y&&y(!1)}else B(!1),y&&y(!0);return e}}return A(null),s.connect()}},icon:H}),!p&&I&&N&&Object(d.jsxs)("div",{className:"init-approve",children:[Object(d.jsxs)("div",{className:"step-approve",children:[!L&&Object(d.jsx)("div",{className:"step-one",children:"1"}),L&&Object(d.jsx)("div",{className:"pending",children:q?Object(d.jsx)(j.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:q?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(d.jsx)("div",{className:q?"step-hr finish":"step-hr"}),Object(d.jsxs)("div",{className:"step-transaction",children:[!q&&Object(d.jsx)("div",{className:"step-two",children:"2"}),L&&q&&Object(d.jsx)("div",{className:"pending",children:F?Object(d.jsx)(j.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:F?"transaction-text finish-text":"transaction-text",children:T})]})]})]})})))},1447:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i,n=a(62),s=a(51),c=(a(6),a(5)),l=s.a.div(i||(i=Object(n.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,a=e.nowTimestamp,i=e.endTimestamp,n=parseInt((a-t)/(i-t)*100);return Object(c.jsx)("div",{className:"time-slider",children:Object(c.jsx)(l,{width:n})})}},1452:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(14),s=a(62),c=a(6),l=a(51),o=a(477),r=a(5),d=l.a.div(i||(i=Object(s.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function b(e){var t=e.list,a=e.onChange,i=e.width,s=void 0===i?"320":i,l=e.height,b=void 0===l?"48":l,j=e.bgColor,u=void 0===j?"rgba(85, 119, 253, 0.1)":j,p=e.searchName,h=void 0===p?"bTokenSymbol":p,x=e.className,m=e.placeholder,v=void 0===m?"Search":m,f=(e.onFocus,e.onBlur,Object(c.useState)("")),O=Object(n.a)(f,2),g=O[0],y=O[1],k=Object(c.useState)(0),w=Object(n.a)(k,2),N=(w[0],w[1]),S=Object(c.useRef)([]);return Object(c.useEffect)((function(){if(g){var e=g.toLocaleUpperCase();0===S.current.length&&(S.current=t,N(t.length));var i=S.current.filter((function(t){return t[h]&&t[h].toUpperCase().indexOf(e)>=0}));a(i,e)}else a(S.current)}),[g]),Object(c.useEffect)((function(){0===S.current.length&&N(t.length)}),[t]),Object(r.jsx)(d,{width:s,height:b,bgColor:u,className:x,children:Object(r.jsxs)("div",{className:"search-token",children:[Object(r.jsx)("input",{type:"text",className:"search-input",placeholder:v,value:g,onChange:function(e){!function(e){var t=e.target.value;y(t)}(e)}}),Object(r.jsx)("img",{src:o.default,alt:""})]})})}},1660:function(e,t,a){},1669:function(e,t,a){"use strict";a(55),a(20),a(1584),a(1566),a(1671),a(170),a(5)},1671:function(e,t,a){},1672:function(e,t,a){},1673:function(e,t,a){},1674:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(6),n=(a(37),a(51)),s=a(28),c=a(1251),l=a(1239),o=a(5);const r=n.a.div`
  .remove-hint{
    cursor: pointer;
    .text{
      display: flex;
      border:0;
    }
    span{
      margin-left:8px;
    }
  }
`;function d(e){let{lang:t,wallet:a,baseToken:n,penalty:d,isB0Staked:b,availableBalance:j,getLang:u}=e;const[p,h]=Object(i.useState)("");return Object(i.useEffect)((()=>{let e,i=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC",s={num:n,name:i},c={name:i};e=b?"BUSD"===n||"USDC"===n?`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-update-your",c)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-trigger-swapping-to-update-your",s)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${d} ${i} ${u("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",s)}`,h(e)}),[b,d,n]),Object(o.jsx)(r,{children:+d<0&&+j>0&&Object(o.jsx)("div",{className:"remove-hint",children:Object(o.jsxs)(c.a,{tip:p,width:"332",children:[Object(o.jsx)(s.a,{token:"warn"})," ",Object(o.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(o.jsx)(l.a,{value:d,decimalScale:2})," BUSD"]})]})})})}},2095:function(e,t,a){},2096:function(e,t,a){},2376:function(e,t,a){"use strict";a.r(t);var i=a(6),n=a(55),s=a(45),c=a(169),l=a(1352),o=a(1434),r=a(1305),d=a(20),b=a(1239),j=a(15),u=a(37),p=(a(2095),a(16)),h=a(1674),x=a(5);function m(e){let{getLang:t,wallet:a,lang:n,type:s,isLp:m,bTokenId:v,poolConfig:f,version:O,baseToken:g,address:y,walletBalance:k,poolInfo:w,afterTransaction:N}=e;const[S,T]=Object(i.useState)(""),[C,I]=Object(i.useState)(!1),[$,q]=Object(i.useState)(""),[E,F]=Object(i.useState)(!1),[_,L]=Object(i.useState)(""),[B,H]=Object(i.useState)(!1),A=Object(c.c)(),[R,U]=Object(i.useState)({}),D="add"===s||"v2"===O||"v3"===O||"v3_lite"===O?g:n.shares;return Object(i.useEffect)((()=>{let e="add"===s?Object(p.bg)(k):Object(p.bg)(w.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(p.bg)((+k).toFixed(5)));const t=Object(p.bg)(S);S&&0!==+S&&!t.gt(e)?((async()=>{let e,t="add"===s?S:Object(p.bg)(S).times(Object(p.bg)(-1)).toString();e="v3"===O||"v3_lite"===O?[a.detail.chainId,y,a.detail.account,t,g]:[a.detail.chainId,y,a.detail.account,t,v];let i=await u.a.request("getEstimatedLiquidityInfo",e);+i.percentage1<0&&(i.percentage1=0,i.shares1=0),U(i)})(),F(!1)):F(!0)}),[S,s,w,k]),Object(i.useEffect)((()=>{T(""),q("")}),[s,v,g]),Object(i.useEffect)((()=>{a.isConnected()&&(async()=>{if(g){let e=await u.a.request("getEstimatedLpInfo",[a.detail.chainId,y,a.detail.account,g]);L(e.b0Penalty),H(e.isB0Staked)}})()}),[a.detail,g,y]),Object(x.jsxs)("div",{className:"operate",children:[Object(x.jsx)("div",{className:"add-input",children:Object(x.jsx)(l.a,{value:S,unit:D,onChange:e=>{T(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===s&&Object(x.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(x.jsx)(b.a,{value:k,displayType:"text",decimalScale:2})," ",g]}),"remove"===s&&Object(x.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(x.jsx)(b.a,{value:w.totalShares,displayType:"text",decimalScale:2})," ",D]}),"remove"===s&&Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{getLang:t,lang:n,baseToken:g,wallet:a,penalty:_,isB0Staked:B})}),Object(x.jsx)("div",{className:"check-proportion",children:Object(x.jsx)(r.a,{outline:!0,defaultValue:$,onChange:e=>{let t="add"===s?k:w.totalShares,a=Object(d.F)(e,t);q(e),T(a),q(e),I("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(x.jsx)("div",{className:"information",children:0!==+S&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"percentage",children:[Object(x.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{allowZero:!0,width:"80px",value:w.percent,decimalScale:2,suffix:"%"})," ->  ",Object(x.jsx)(b.a,{width:"80px",allowZero:!0,value:100*R.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(x.jsxs)("div",{className:"staked-balance",children:[Object(x.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{width:"80px",allowZero:!0,value:w.formatShares,decimalScale:2})," -> ",Object(x.jsx)(b.a,{width:"80px",allowZero:!0,value:R.shares1,decimalScale:2}),"v2"===O||"v3"===O||"v3_lite"===O?" "+g:" "+n.shares]})]})]})}),Object(x.jsxs)("div",{className:"add-remove-btn",children:["add"===s&&Object(x.jsx)(o.a,{alert:A,disabled:E,fontWeight:"bold",onClick:async()=>{const e=Object(p.bg)(k);if(Object(p.bg)(S).gt(e))return A.error(n["not-sufficient-funds"]),!1;if(S<=0||isNaN(S))return A.error(n["it-has-to-be-greater-than-zero"]),!1;let i;if("lp"===m){let e=[a.detail.chainId,y,a.detail.account,S];i=await u.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"]})}else{let e;e="v3"===O||"v3_lite"===O?[a.detail.chainId,y,a.detail.account,S,g]:[a.detail.chainId,y,a.detail.account,S,v],i=await u.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"]})}return N(!0),T(""),i&&i.success?(A.success(`${t("add-baseToken-liquidity",{baseToken:g})}`,{timeout:8e3,isTransaction:!0,transactionHash:i.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.data.transactionHash}`,title:n["add-liquidity-executed"]}),!0):(""===i.response.transactionHash||A.error(`${n["transaction-failed"]} : ${i.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:i.response.transactionHash,link:`${a.blockExploreUrl}/tx/${i.response.transactionHash}`,title:n["add-liquidity-failed"]}),!1)},bToken:g,pool:f,wallet:a,bTokenId:v,fontSize:"18",type:j.o,width:"331",label:n["add-liquidity"],lang:n}),"remove"===s&&Object(x.jsx)(o.a,{alert:A,disabled:E,fontWeight:"bold",onClick:async()=>{const e=Object(p.bg)(w.totalShares);let i;i=C?w.totalShares:S;const s=Object(p.bg)(i);if(s.gt(e))return A.error(`${n["your-current-max-removable-shares-are"]}  ${w.totalShares}`),!1;if(+i<=0||isNaN(S))return A.error(n["invalid-liquidity"]),!1;let c;if("lp"===m){let e=[a.detail.chainId,y,a.detail.account,i];c=await u.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}else{let t;t="v3"===O||"v3_lite"===O?[a.detail.chainId,y,a.detail.account,i,g,e.eq(s)]:[a.detail.chainId,y,a.detail.account,i,v,e.eq(s)],c=await u.a.request("removeLiquidity",t,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}if(c&&c.success)A.success(`${t("remove-baseToken-liquidity",{baseToken:g})}`,{timeout:5e3,isTransaction:!0,transactionHash:c.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${c.response.data.transactionHash}`,title:n["remove-liquidity-executed"]});else{if(""===c.response.transactionHash)return!1;A.error(`${n["transaction-failed"]} : ${c.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:c.response.transactionHash,link:`${a.blockExploreUrl}/tx/${c.response.transactionHash}`,title:n["remove-liquidity-failed"]})}return T(""),N(),!0},bToken:g,pool:f,type:j.o,wallet:a,bTokenId:v,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var v=a(1397),f=a(109),O=a(172),g=(a(2096),a(1660),a(471)),y=a(467),k=a(469),w=a(466),N=a(468),S=a.p+"static/media/deri.520d2449.svg",T=a(1419),C=a(470),I=a(1251),$=a(296),q=a(168);const E=f[p.DeriEnv.get()].chainInfo;function F(e){let{wallet:t,chainId:a,nowApy:n,poolInfo:s,address:l,nowToken:o,lang:r,version:j,type:p,poolConfig:h,symbols:m}=e;const[v,f]=Object(i.useState)("show"),[O,g]=Object(i.useState)(),y=Object(c.c)(),k=async()=>{if(console.log("poolConfig",h),h){let e=await h.getVenusEarned(t,l);e=+e,g(e)}};return Object(i.useEffect)((()=>{if(t.isConnected()&&("v3"===j||"v3_lite"===j)){let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,h]),Object(x.jsxs)("div",{className:"pool-info",children:[Object(x.jsxs)("div",{className:"pool-info-title",children:[Object(x.jsx)("div",{className:"pool-info-title-text",children:r["pool-info"]}),Object(x.jsxs)("div",{className:"down-up",children:["show"===v&&Object(x.jsx)("span",{onClick:()=>f("hide"),children:Object(x.jsx)("img",{className:"up-icon",alt:"",src:$.default})}),"hide"===v&&Object(x.jsx)("span",{onClick:()=>f("show"),children:Object(x.jsx)("img",{alt:"",src:$.default})})]})]}),Object(x.jsxs)("div",{className:`'pool-info-text' ${v}`,children:[Object(x.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==j&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r.apy}),Object(x.jsxs)("div",{className:"info-box-num",children:["v3"!==j&&"v3_lite"!==j&&Object(x.jsx)(b.a,{value:s.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===j||"v3_lite"===j)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I.a,{text:Object(x.jsx)(b.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["deri-apy"]}),"\xa0 +  \xa0  ",Object(x.jsx)(I.a,{text:Object(x.jsx)(b.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(x.jsx)(I.a,{text:Object(x.jsx)(b.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["xvs-distribution-apy"]})]})]})]}),Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["pool-liquidity"]}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{value:s.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===j||"v3_lite"===j?56===+a||97===+a?"BUSD":"USDC":o]})]}),("v2"===j||"v3"===j||"v3_lite"===j)&&!("option"===p&&"v2"===j)&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r.multiplier}),Object(x.jsx)("div",{className:"info-box-num",children:s.multiplier})]}),Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["my-liquidity-percentage"]}),Object(x.jsx)("div",{className:"info-box-num",children:Object(x.jsx)(b.a,{allowZero:!0,value:s.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==j&&"v3"!==j&&"v3_lite"!==j||"v2"===j&&"option"===p)&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["liquidity-share-value"]}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{allowZero:!0,decimalScale:6,value:s.shareValue,thousandSeparator:!0})," ",o]})]})}),Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["staked-balance"]}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{allowZero:!0,value:s.formatShares,decimalScale:2}),"v2"!==j&&"v3"!==j&&"v3_lite"!==j||"option"===p&&"v2"===j?" "+r.shares:" "+o]})]}),("v2"!==j&&"v3"!==j&&"v3_lite"!==j||"v2"===j&&"option"===p)&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title"}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{allowZero:!0,decimalScale:2,value:s.values,thousandSeparator:!0})," ",o]})]}),("v2"===j||"v3"===j||"v3_lite"===j)&&!("option"===p&&"v2"===j)&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:Object(x.jsx)(I.a,{multiline:!0,text:r["mining-pnl"],tip:r["mining-pnl-hover"],html:!0,element:Object(x.jsxs)("span",{children:[" ",Object(x.jsxs)("div",{children:[r["mining-pnl-hover-one"]," "]}),r["mining-pnl-hover"]," ",Object(x.jsxs)("div",{children:[Object(x.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:r["learn-more-pnl"]})," "]})," "]})})}),Object(x.jsxs)("div",{className:"info-box-num",children:[Object(x.jsx)(b.a,{allowZero:!0,prefix:" ",value:s.pnl,decimalScale:2}),"  ",h&&h.bTokens[0].bTokenSymbol," (",Object(x.jsx)(b.a,{value:s.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===j||"v3_lite"===j)&&(56===+a||97===+a)&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["xvs-earned"]}),Object(x.jsxs)("div",{className:"info-box-num collect-box",children:[Object(x.jsx)(b.a,{value:O,decimalScale:2}),Object(x.jsx)(q.a,{onClick:async()=>{let e=await u.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0,write:!0,subject:r["claim-XVS"]});if(e&&e.success)y.success(r["claim-XVS-reward"],{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:r["claim-reward-failed"]});else{if(""===e.response.transactionHash)return!1;y.error(`${r["transaction-failed"]} : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:r["claim-reward-executed"]})}k()},className:"collect",label:r.collect})]})]})]}),Object(x.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==p&&Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r.symbols}),Object(x.jsx)("div",{className:"info-box-num symbols",children:Object(x.jsx)(I.a,{tip:m,children:m})})]}),Object(x.jsxs)("div",{className:"info-box",children:[Object(x.jsx)("div",{className:"info-box-title",children:r["contract-address"]}),Object(x.jsx)("div",{className:"info-box-num",children:Object(x.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${E[a]&&E[a].viewUrl}/address/${l}`,children:Object(d.i)(l)})})]})]})]})]})}var _=a(14),L=a(28),B=a(1452);function H(e){var t=e.lang,a=e.address,n=e.checkoutBaseToken,s=e.nowToken,c=e.bTokenList,l=e.version,o=e.type,r=Object(i.useState)([]),j=Object(_.a)(r,2),u=j[0],p=j[1],h=function(e){e.target.src=C.default};return Object(i.useEffect)((function(){p(c)}),[c]),Object(x.jsxs)("div",{className:"select-basetoken-info",children:[Object(x.jsxs)("div",{className:"select-coin-title-search",children:[Object(x.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(x.jsx)("div",{className:"search-box",children:Object(x.jsx)(B.a,{list:c,searchName:"bTokenSymbol",onChange:function(e){return p(e)}})})]}),Object(x.jsxs)("div",{className:"coin-search",children:[Object(x.jsx)("div",{className:"slide-icon left",children:Object(x.jsx)(L.a,{token:"arrow-left",width:"24",height:"24"})}),Object(x.jsxs)("div",{className:"v3"===l||"v3_lite"===l?"coin-list some-coin":"coin-list",children:["lp"!==o&&"v2_lite_open"!==l&&Object(x.jsx)(x.Fragment,{children:u.map((function(e,a){return Object(x.jsxs)("div",{className:s===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){n(e.bTokenId,e.bTokenSymbol)},children:[Object(x.jsxs)("div",{className:"base-apy-info",children:[Object(x.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(x.jsxs)("div",{className:"apy-base-staked",children:[Object(x.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(x.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(x.jsx)(b.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===l||"v3_lite"===l)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("span",{children:[" +  ",Object(x.jsx)(b.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(x.jsx)(b.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(x.jsx)("img",{src:T.a,alt:""})]})}))}),"v2_lite_open"===l&&Object(x.jsx)(x.Fragment,{children:u.map((function(e,a){return Object(x.jsxs)("div",{className:"coin-box checked-base",onClick:function(){n(e.bTokenId)},children:[Object(x.jsxs)("div",{className:"base-apy-info",children:[Object(x.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(x.jsx)("img",{alt:"",onError:h,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(x.jsx)("div",{className:"apy-base-staked",children:Object(x.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(x.jsxs)("div",{className:"stake",children:[Object(x.jsx)("img",{src:T.a,alt:""}),t.staked]})]})}))}),"lp"===o&&c.length&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"coin-box checked-base",children:Object(x.jsxs)("div",{className:"base-apy-info",children:[Object(x.jsxs)("div",{className:"lp-btoken-logo",children:[Object(x.jsx)("div",{className:"btoken-logo ".concat(c[0].bTokenSymbol)}),Object(x.jsx)("span",{className:"conect-logo",children:"+"}),Object(x.jsx)("div",{className:"btoken-logo ".concat(c[1].bTokenSymbol)})]}),Object(x.jsxs)("div",{className:"apy-base-staked",children:[Object(x.jsx)("div",{className:"base-name",children:s}),Object(x.jsxs)("div",{className:"base-apy",children:[Object(d.v)(a)&&Object(x.jsxs)(x.Fragment,{children:[t.apy," \xa0 ",Object(x.jsx)(b.a,{value:c[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(d.C)(a)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I.a,{text:"".concat(t.apy," ").concat((+c[1].apy).toFixed(2)," %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(x.jsx)(I.a,{text:"".concat(t.apy,"  ").concat((+c[1].lpApy).toFixed(2)," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(x.jsx)("div",{className:"slide-icon right",children:Object(x.jsx)(L.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}a(1669);var A=a(218),R=a(1447);const U=p.DeriEnv.get(),{chainInfo:D}=f[U];t.default=Object(s.b)("wallet","poolManager")(Object(s.c)((function(e){let{lang:t,wallet:a={},poolManager:s,getLang:l}=e;const{version:o,chainId:r,address:j,type:h}=Object(n.i)(),f=Object(c.c)(),[I,$]=Object(i.useState)(),[q,E]=Object(i.useState)(""),[_,L]=Object(i.useState)(!1),[B,U]=Object(i.useState)(""),[P,z]=Object(i.useState)([]),[Z,V]=Object(i.useState)({}),[W,M]=Object(i.useState)(0),[K,X]=Object(i.useState)({}),J=Object(O.a)(),[G,Q]=Object(i.useState)(""),[Y,ee]=Object(i.useState)(),[te,ae]=Object(i.useState)({}),[ie,ne]=Object(i.useState)(!1),[se,ce]=Object(i.useState)(0),[le,oe]=Object(i.useState)(0),[re,de]=Object(i.useState)(0),[be,je]=Object(i.useState)(""),[ue,pe]=Object(i.useState)(!1),he=D[r]&&D[r].name,xe=async()=>{if(a.isConnected()){let e=[a.detail.chainId,j,a.detail.account],t=null;B.isLp?t=await u.a.request("getLpWalletBalance",e):("v3"===o||"v3_lite"===o?e.push(I):e.push(q),"v2_lite_open"===o&&await p.openConfigListCache.update(),t=await u.a.request("getBTokenBalance",e)),ee(t)}},me=async()=>{let e=await u.a.request("getPendingReward",[a.detail.chainId,j,a.detail.account]);if(Object(d.x)(j)){X(e);let t=e.valid?e.amount:0;M(t)}else M(e)},ve=()=>{xe(),Oe(),ge()},fe=Object(i.useMemo)((()=>({[t.add]:{content:Object(x.jsx)(m,{getLang:l,poolConfig:B,isLp:h,wallet:a,afterTransaction:ve,version:o,bTokenId:q,address:j,lang:t,type:"add",poolInfo:Z,baseToken:I,walletBalance:Y}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"},[t.remove]:{content:Object(x.jsx)(m,{getLang:l,isLp:h,poolConfig:B,wallet:a,afterTransaction:ve,lang:t,address:j,type:"remove",bTokenId:q,poolInfo:Z,balance:Z,baseToken:I,version:o}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}})),[t,l,B,h,a,o,q,j,I,Y,Z]),Oe=async()=>{let e=null;if(B){let t,i,n,s,c,l,r=await B.getPoolInfo(a,B);if(r.bTokensApy&&r.bTokensLiq&&("v2"===o&&q?(c=r.bTokensApy.filter((e=>e.bTokenId===q)),t=c[0].apy,l=c[0].multiplier,s=r.bTokensLiq.filter((e=>e.bTokenId===q)),s=s[0].liquidity):"v2_lite_open"!==o&&"v3"!==o&&"v3_lite"!==o?(t=r.bTokensApy[0].apy,s=r.bTokensLiq[0].liquidity):"v3"!==o&&"v3_lite"!==o||(c=r.bTokensApy.filter((e=>e.bTokenSymbol===I)),c.length&&(t=c[0].apy,i=c[0].supplyApy,n=c[0].xvsApy,l=c[0].multiplier),s=r.bTokensLiq.filter((e=>e.bTokenSymbol===I)),s.length&&(s=s[0].liquidity)),e={total:s,apy:100*+t,supplyApy:100*+i,xvsApy:100*+n,multiplier:l}),a.isConnected()){e=await B.getLiquidityInfo(a,j,B.version,B.isLp,h,I,q),"v3"!==o&&"v3_lite"!==o||(e.supplyApy=100*+i,e.xvsApy=100*+n),e.apy=100*+t,e.multiplier=l}V(e)}},ge=async()=>{if(a.isConnected()&&B){let e=await B.getIsStaked(a,B);if(e.bTokens){P.map((t=>{if("v2"===o&&"option"!==h)t.staked=e.bTokens.filter((e=>e.bTokenId===t.bTokenId))[0].isStaked;else if("v3"===o||"v3_lite"===o){let a=e.bTokens.filter((e=>e.bTokenSymbol===t.bTokenSymbol));t.staked=!!a.length&&a[0].isStaked}else t.staked=e.isStaked;return t}))}let t=[];if(P.forEach(((e,a)=>{if(e.staked)return t.push(e),void P.splice(a,1)})),P.unshift(...t),P.length){let e=P[0].bTokenSymbol;Object(d.v)(j)?e="PANCAKE-LP":Object(d.C)(j)&&(e="DERI-USDT SLP");let t=P[0].bTokenId;$(e),E(t)}}};return Object(i.useEffect)((()=>{if(a.detail.chainId&&a.detail.chainId!==r&&a.switchNetwork(J[r]),a.isConnected()){let e=window.setInterval(me,3e4);return me(),()=>clearInterval(e)}}),[a.detail,a]),Object(i.useEffect)((()=>{(async()=>{await s.load();let e=s.pools;"lp"===h&&(await s.loadDoubleMingingPool(),e=s.lpPools),"v2_lite_open"===o&&(await s.loadOpen(),e=s.openPools),e=e.filter((e=>e.address===j)),e=e[0];let t=e.bTokens[0].bTokenSymbol;Object(d.v)(j)?t="PANCAKE-LP":Object(d.C)(j)&&(t="DERI-USDT SLP");let a=e.symbols.map((e=>{let t=[];return t.push(e.symbol),t}));a=a.join(","),Q(a),U(e),z(e.bTokens)})()}),[]),Object(i.useEffect)((()=>{if(ee(""),P.length&&(I||q)){let e,t={};if("v2"!==o){t=P.filter((e=>e.bTokenSymbol===I))[0]}else if("v2"===o){t=P.filter((e=>e.nowTokenId===q))[0]}ae(t),"v2"===o&&"option"!==h?q&&(e=P.filter((e=>e.bTokenId===q))[0].staked):"lp"!==h&&(e=P.filter((e=>e.bTokenSymbol===I))[0].staked),L(e)}}),[P,I,q]),Object(i.useEffect)((()=>{(async()=>{if(B){let e=await B.getPoolInfo(a,B);e.bTokensApy&&P.map((t=>{if("v2"===o)t.apy=100*+e.bTokensApy.filter((e=>e.bTokenId===t.bTokenId))[0].apy;else if("v2_lite_open"!==o&&"v3"!==o&&"v3_lite"!==o)t.apy=100*+e.bTokensApy[0].apy,Object(d.C)(j)&&(t.lpApy=e.lpApy);else if("v3"===o||"v3_lite"===o){let a=e.bTokensApy.find((e=>e.bTokenSymbol===t.bTokenSymbol));a&&(t.apy=100*+a.apy,t.supplyApy=(100*+a.supplyApy).toFixed(3),t.xvsApy=100*+a.xvsApy)}return t}))}})()}),[B,P]),Object(i.useEffect)((()=>{Oe(),xe()}),[q,B,a.detail.account,I]),Object(i.useEffect)((()=>{ge()}),[B,a.detail.account,P]),Object(i.useEffect)((()=>{if(a.isConnected()){let e=Object(d.m)("poolClaim"),t=sessionStorage.getItem("poolGuideThree");"true"===e?ne(!1):"3"===t&&ne(!0)}}),[a,a.detail]),Object(i.useEffect)((()=>{let e=null;return e=window.setInterval((()=>{let e=28800,a=parseInt(Date.now()/1e3),i=parseInt(a/e)*e,n=i+e-a,s=parseInt(n/3600),c=parseInt(n%3600/60),l=parseInt(n%60);ce(i),oe(i+e),de(a),je(`${s} ${t.h} ${c} ${t.m} ${l} ${t.s}`)}),1e3),()=>{e&&clearInterval(e)}}),[]),Object(x.jsxs)("div",{className:"pool-detail",children:[Object(x.jsx)("div",{className:"back-pool",children:Object(x.jsxs)("div",{className:"icon-back",onClick:()=>{window.history.back(-1)},children:[Object(x.jsx)("img",{alt:"",src:g.default}),Object(x.jsx)("span",{children:t.back})]})}),Object(x.jsxs)("div",{className:"pool-deatail-info",children:[Object(x.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(x.jsxs)("div",{className:"pool-info-text",children:[Object(x.jsxs)("div",{className:"pool-network-type",children:[Object(x.jsx)("div",{className:"network-logo",children:Object(x.jsx)("img",{alt:"",src:(e=>{let t,a=+e;return 56===a||97===a?t=y.default:137===a?t=k.default:1===a?t=w.default:42161!==a&&421611!==a||(t=N.default),t})(r)})}),Object(x.jsxs)("div",{className:"pool-type-network-text",children:[Object(x.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==j&&Object(x.jsxs)(x.Fragment,{children:[t[B.type]," ",t[B.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===j&&Object(x.jsx)(x.Fragment,{children:t[B.zone]})]}),Object(x.jsx)("div",{className:"pool-network-text",children:he})]})]}),Object(x.jsxs)("div",{className:"pool-des",children:["lp"!==h&&t["amm-pool-des"],"clp"===o&&Object(x.jsx)(x.Fragment,{children:t["deri-pancake-pool"]}),"slp"===o&&Object(x.jsx)(x.Fragment,{children:t["deri-sushi-pool"]}),Object(x.jsx)("br",{}),"lp"!==h?Object(x.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(x.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(x.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(x.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(x.jsx)(H,{lang:t,address:j,checkoutBaseToken:async(e,t)=>{let a;a="v3"!==o&&"v3_lite"!==o?B.bTokens.filter((t=>t.bTokenId===e)):B.bTokens.filter((e=>e.bTokenSymbol===t)),V({}),E(e),ee(""),$(a[0].bTokenSymbol),L()},nowToken:I,bTokenList:P,version:o,type:h})]}),Object(x.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(x.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(x.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==h&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:`btoken-logo ${I}`,children:"v2_lite_open"===o&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("img",{alt:"",onError:e=>{e.target.src=C.default},src:`https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/${I}.png`})})}),Object(x.jsxs)("div",{className:"manage-stake",children:[Object(x.jsxs)("div",{className:"manage",children:[t.manage," ",I," ",t.liquidity]}),_&&Object(x.jsxs)("div",{className:"stake",children:[Object(x.jsx)("img",{src:T.a,alt:""}),t.staked]})]})]}),"lp"===h&&P.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"lp-btoken-logo",children:[Object(x.jsx)("div",{className:`btoken-logo ${P[0].bTokenSymbol}`}),Object(x.jsx)("span",{className:"conect-logo",children:"+"}),Object(x.jsx)("div",{className:`btoken-logo ${P[1].bTokenSymbol}`})]}),Object(x.jsxs)("div",{className:"manage-stake",children:[Object(x.jsxs)("div",{className:"manage",children:[t.manage," ",I," ",t.liquidity]}),_&&Object(x.jsxs)("div",{className:"stake",children:[Object(x.jsx)("img",{src:T.a,alt:""}),t.staked]})]})]})]}),Object(x.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==o&&B.rewarded&&Object(x.jsxs)(x.Fragment,{children:[Object(d.x)(j)&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"deri-num-slider",children:[Object(x.jsx)("div",{className:"deri-cliam-remaining",children:be}),Object(x.jsx)("div",{className:"deri-claim-slider",children:Object(x.jsx)(R.a,{startTimestamp:se,nowTimestamp:re,endTimestamp:le})}),Object(x.jsx)("div",{className:"deri-claim-pool-num",children:l("deri-claim-pool-num",{num:+K.lp?(+K.lp).toFixed(4):0})})]})}),Object(x.jsx)("div",{className:Object(d.x)(j)?"mining-pool-claim epoch-pool":"mining-pool-claim",children:Object(x.jsxs)("div",{className:"mining-claim-info",children:[Object(x.jsxs)("span",{children:[" ",t["you-have"]]}),Object(x.jsxs)("span",{className:(0===+W?"no-deri":"")+" mining-pool-num",onClick:async()=>{if(0===+W)return void f.error(t["no-deri-to-claim-yet"]);if(Object(d.x)(j)){if(parseInt(Date.now()/1e3)%28800<1800)return void f.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"])}pe(!0);let e=await u.a.request("claimReward",[a.detail.chainId,j,a.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"]});return me(),pe(!1),e.success?(M(0),f.success(t["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${a.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:t["claim-reward-executed"]}),M(0),!0):(""===e.response.transactionHash||f.error(`${t["transaction-failed"]} : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${a.blockExploreUrl}/tx/${e.response.transactionHash}`,title:t["claim-reward-failed"]}),!1)},children:[ue&&Object(x.jsx)(A.a,{}),Object(x.jsx)(b.a,{value:W,decimalScale:2}),Object(x.jsx)("img",{src:S})]}),Object(x.jsx)("span",{children:t["claim-in-pool"]})]})})]})})]}),Object(x.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(x.jsx)(F,{wallet:a,nowApy:te,poolInfo:Z,chainId:r,address:j,nowToken:I,lang:t,poolInfo:Z,version:o,type:h,poolConfig:B,symbols:G}),Object(x.jsx)("div",{className:"add-remove-liquidity",children:Object(x.jsx)(v.a,{tabSet:fe,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=19.89d0fb10.chunk.js.map