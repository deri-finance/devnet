(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1392:function(e,t,a){"use strict";var i,n,s=a(53),c=a(322),l=a(65),o=a(9),r=a(64),d=a(8),b=(a(80),a(1426)),u=a(54),j=a(21),p=a(18),h=a(4),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(u.a)(b.a)(i||(i=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=u.a.span(n||(n=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),i=a[0],n=a[1],r=Object(d.useState)(!0),b=Object(o.a)(r,2),u=b[0],O=b[1],f=function(){var t=e.allowZero;return"object"!==Object(l.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),i=e.defaultValue,l=void 0===i?"--":i,o=Object(c.a)(e,x);if(f())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&!t&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.g)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=/e(\+|=)?/.test(o.value)?Object(j.M)(o.value):""+o.value,o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),n(Object(h.jsx)(m,Object(s.a)(Object(s.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var r=e.width,d=e.height;n(Object(h.jsx)(v,{className:"loading-line",width:r,height:d})),a&&O(!1)}var b=window.setTimeout((function(){f()||n(l)}),l===o.value?0:6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),i}},1434:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(9),s=a(64),c=a(8),l=a(188),o=a(54),r=a(4),d=o.a.div(i||(i=Object(s.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,i=e.selectedBorderColor,s=e.defaultBorderColor,o=e.onChange,b=e.defaultValue,u=e.outline,j=e.outlineColor,p=e.width,h=e.height,x=e.bgColor,m=e.className,v=e.disabled,O=e.canUnselected,f=void 0===O||O,g=Object(c.useState)(b),y=Object(n.a)(g,2),k=y[0],w=y[1];return Object(c.useEffect)((function(){w(b)}),[b]),Object(r.jsx)(d,{className:m,children:a.map((function(e,t){return Object(r.jsx)(l.a,{label:e,selectedBorderColor:i,isSelected:e===k,disabled:v,outline:u,bgColor:x,className:"g-button",defaultBorderColor:s,outlineColor:j,width:p,height:h,onClick:function(){var t;(t=e)!==k?(w(t),o&&o(t)):f&&t===k?(w(""),o&&o("")):w(t)}},t)}))})}},1453:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i,n=a(53),s=a(64),c=a(8),l=a(54),o=a(18),r=a(246),d=a(4),b=l.a.div(i||(i=Object(s.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,i=e.unitTip,s=e.max,l=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,h=e.disableNegtive,x=void 0===h||h,m=e.focus,v=e.placeholder,O=void 0===v?"":v,f=e.unitPadding,g=void 0===f?"24px":f,y=e.minTradeVolume,k=e.decimal,w=void 0===k?2:k,S=e.readOnly,N=e.inputWidth,T=void 0===N?"50%":N,C=e.inputHeight,A=void 0===C?"56px":C,E=e.className,I=e.disabled,_=void 0!==I&&I,F=e.onBlur,B=e.onFocus,D=Object(c.useRef)(null);return Object(c.useEffect)((function(){D.current.setCustomValidity(""),D.current&&m&&D.current.focus()}),[m]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:A,className:E,style:Object(n.a)({},p),children:[Object(d.jsx)("input",{placeholder:O,type:"number",title:"",onKeyPress:function(e){46!==e.which&&8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},onBlur:F,onFocus:B,disabled:_,value:t,step:isNaN(l)?0:l,ref:D,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),i=e.target.value;if(s&&Object(o.bg)(i).gt(s))u&&u(s);else if(x&&(i<0||isNaN(i)))u&&u("");else if(i){if(y>=1)if(i/y>=1)u&&u(Object(o.bg)(i).div(y).integerValue()*y);else u&&u(i*y);else if(/\d+\./.test(i)&&!a.test(i)){var n=i.substring(0,i.indexOf(".")+1+w);u&&u(n)}else u&&u(i)}else u&&u(i)},readOnly:S}),Object(d.jsx)("div",{className:"unit",children:i?Object(d.jsx)(r.a,{tip:i,text:a}):a})]})}},1486:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(9),s=a(64),c=a(54),l=a(8),o=a(26),r=a(4),d=c.a.div(i||(i=Object(s.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function b(e){var t=e.tabSet,a=e.inactiveBgColor,i=e.iconMarginRight,s=e.activeBgColor,c=(e.icon,e.className),b=e.width,u=void 0===b?238:b,j=e.height,p=void 0===j?47:j,h=e.size,x=void 0===h?16:h,m=e.borderTop,v=void 0!==m&&m,O=e.borderBottom,f=void 0!==O&&O,g=e.divider,y=void 0!==g&&g,k=e.activeIndex,w=void 0===k?0:k,S=Object.keys(t),N=Object(l.useState)(S[w]),T=Object(n.a)(N,2),C=T[0],A=T[1],E=Object(l.useState)(),I=Object(n.a)(E,2),_=I[0],F=I[1],B=Object(l.useState)(),D=Object(n.a)(B,2),R=D[0],L=D[1],q=Object(l.useState)(),P=Object(n.a)(q,2),U=P[0],$=P[1],H=Object(l.useState)(),M=Object(n.a)(H,2),V=M[0],z=M[1],W=Object(l.useState)(),K=Object(n.a)(W,2),Z=K[0],X=K[1],G=Object(l.useState)(),Y=Object(n.a)(G,2),Q=Y[0],J=Y[1];return Object(l.useEffect)((function(){var e=Object.keys(t);A(e[w])}),[t,w]),Object(l.useEffect)((function(){var e=Object.keys(t),a=C||e[w];if(t[a]){F(t[a].style);var i=v?"border-top:1px solid ".concat(t[a].borderColor):"border-top:0",n=f?"border-bottom:1px solid ".concat(t[a].borderColor):"border-bottom:0",s=y?"border-left:1px solid ".concat(t[a].borderColor):"border-left:0",c=y?"border-right:1px solid ".concat(t[a].borderColor):"border-right:0",l=t[a].fontColor?t[a].fontColor:"#FFFFFF";L(i),$(s),z(n),X(c),J(l)}}),[t,C]),Object(r.jsxs)("div",{style:_,className:c,children:[Object(r.jsx)(d,{className:"tab-header",iconMarginRight:i,width:u,height:p,activeFontColor:Q,activeBgColor:s,inactiveBgColor:a,size:x,borderT:R,borderB:V,borderL:U,borderR:Z,children:S.map((function(e,a){return Object(r.jsxs)("div",{className:"".concat(t[e].direction||t[e].className,e===C?" active":" inactive"),onClick:function(t){return function(e,t){A(e)}(e)},children:[t[e].icon?Object(r.jsx)(o.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===C?t[e].icon:t[e].inicon}):"","  ",e]},a)}))}),t[C]?t[C].content:""]})}},1487:function(e,t,a){"use strict";var i=a(21),n=a(1440),s=a(54),c=(a(246),a(135)),l=a(4);const o=s.a.div`
&.custom-tooltip {
  padding: 0 0 0 10px;
  color: #E0ECFF;
  z-index: 2;
  .tip-title {
    font-size: 16px;
    color: #E0ECFF;
  }
  .value {
    font-size: 32px;
    font-weight : 700;
    font-family : Barlow;
  }
  .date {
    margin-top: 4px;
    margin-left: 4px;
    font-size: 14px;
    height: 14px;
  }
  .text{
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:block
  }
}
`;t.a=e=>{let{title:t,active:a,payload:s,label:r,lastItem:d,decimalScale:b=2,tip:u,id:j=String((new Date).getTime())+Math.random(),isTime:p=!1}=e;return a&&s&&s.length?Object(l.jsxs)(o,{className:"custom-tooltip",children:[Object(l.jsx)("div",{className:"tip-title",children:t}),Object(l.jsxs)("div",{className:"value",children:[s[0].payload.name&&s[0].payload.name,u?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{"data-for":j,"data-tip":u,className:"text",children:Object(i.f)(s[0].payload.value,b)}),Object(l.jsxs)(c.a,{id:j,width:400,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(i.f)(s[0].payload.value,b)]}),Object(l.jsx)("div",{className:"date",children:s[0].payload.time&&`${Object(n.a)(new Date(1e3*s[0].payload.time),"UTC:yyyy-mm-dd")}(UTC)`})]}):t&&d.value?Object(l.jsxs)(o,{className:"custom-tooltip",children:[Object(l.jsx)("div",{className:"tip-title",children:t}),Object(l.jsxs)("div",{className:"value",children:[" ",d.name&&d.name," ",u?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{"data-for":j,"data-tip":u,className:"text",children:Object(i.f)(d.value,b)}),Object(l.jsxs)(c.a,{width:400,id:j,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(i.f)(d.value,b)]}),Object(l.jsx)("div",{className:"date",children:p?d.timestamp&&`${Object(n.a)(new Date(1e3*d.timestamp),"UTC:yyyy-mm-dd hh:MM:ss")}(UTC)`:d.timestamp&&`${Object(n.a)(new Date(1e3*d.timestamp),"UTC:yyyy-mm-dd")}(UTC)`})]}):null}},1546:function(e,t,a){"use strict";var i,n=a(64),s=a(1434),c=a(54),l=a(21),o=a(4),r=c.a.div(i||(i=Object(n.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 70px;\n  margin-right: 32px;\n  .filter{\n    justify-content: flex-end;\n    .g-button {\n      margin-left: 8px ;\n    }\n  }\n"])));t.a=function(e){var t=e.url,a=e.onChange,i=e.cycleArr,n=void 0===i?["7D","30D"]:i,c=e.className,d=void 0===c?"":c,b=n,u=Object(l.B)()?64:96;return Object(o.jsx)(r,{className:d,children:Object(o.jsx)(s.a,{groups:b,selectedBorderColor:"rgba(205, 122, 55)",defaultValue:b[b.length-1],defaultBorderColor:"rgba(85, 119, 253, 0.1)",bgColor:"rgba(85, 119, 253, 0.1)",className:"filter",width:u,height:"32",onChange:function(e){var i=new URL(t),n=i.searchParams;n.has("cycle")&&n.delete("cycle"),n.append("cycle",e),a(i.toString())},outline:!0,outlineColor:"rgba(205, 122, 55, 0.5)"})})}},1547:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var i=a(8),n=a(84),s=a.n(n),c=a(2543),l=a(2544),o=a(2549),r=a(1707),d=a(1708),b=a(2532),u=a(2313),j=a(1440),p=a(1487),h=a(21),x=a(4);function m(e){let{url:t,title:a,domain:n=!1,yMin:m=0,yMax:v=0,decimalScale:O=2,tip:f,height:g=300,isTime:y=!1}=e;const[k,w]=Object(i.useState)(null),[S,N]=Object(i.useState)({}),[T,C]=Object(i.useState)({}),[A,E]=Object(i.useState)([0,"auto"]);return Object(i.useEffect)((()=>{const e=document.querySelector(".graph").getBoundingClientRect();C(e),(async e=>{const t=await s.a.get(e);let a=[];if(200===t.status&&Array.isArray(t.data.data)&&(a=t.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0)),t.data.current?N(t.data.current):a.length>0&&N(a[a.length-1]),n)){let e=Math.min.apply(Math,a.map((function(e){return e.value.toFixed(O)}))),t=Math.max.apply(Math,a.map((function(e){return e.value.toFixed(O)})));E([+(e-m).toFixed(O),+(t+v).toFixed(O)])}w(a.map((e=>({time:e.timestamp,value:Number(e.value)}))))})(t)}),[t]),k?Object(x.jsx)(c.a,{height:g,children:Object(x.jsxs)(l.a,{width:T.width,data:k,children:[Object(x.jsx)("defs",{children:Object(x.jsxs)("linearGradient",{id:"colorArea",x1:"0",y1:"1",x2:"0",y2:"0",children:[Object(x.jsx)("stop",{offset:"10%",stopColor:"#2772F0",stopOpacity:.1}),Object(x.jsx)("stop",{offset:"90%",stopColor:"#2772f0",stopOpacity:.3})]})}),Object(x.jsx)(o.a,{vertical:!1,strokeDasharray:"9",stroke:"#203B60"}),Object(x.jsx)(r.a,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fill:"#fff",fontSize:"14"},padding:{left:12,right:14},allowDataOverflow:!1,tickFormatter:e=>e&&"auto"!==e?Object(j.a)(new Date(1e3*e),"mm-dd"):""}),Object(x.jsx)(d.a,{dataKey:"value",minTickGap:10,domain:A,tickLine:!1,axisLine:!1,tickFormatter:h.h,tick:{fill:"#fff",fontSize:"14"},padding:{top:65}}),Object(x.jsx)(b.a,{position:{x:16,y:-106},cursor:!1,content:Object(x.jsx)(p.a,{isTime:y,title:a,lastItem:S,decimalScale:O,tip:f})}),Object(x.jsx)(u.a,{type:"monotone",dataKey:"value",stroke:"#3756CD",fillOpacity:.5,strokeWidth:3,fill:"url(#colorArea)"})]})}):null}},1591:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1592:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i,n=a(9),s=a(64),c=a(8),l=a(54),o=a(519),r=a(4),d=l.a.div(i||(i=Object(s.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function b(e){var t=e.list,a=e.onChange,i=e.width,s=void 0===i?"320":i,l=e.height,b=void 0===l?"48":l,u=e.bgColor,j=void 0===u?"rgba(85, 119, 253, 0.1)":u,p=e.searchName,h=void 0===p?"bTokenSymbol":p,x=e.className,m=e.placeholder,v=void 0===m?"Search":m,O=(e.onFocus,e.onBlur,Object(c.useState)("")),f=Object(n.a)(O,2),g=f[0],y=f[1],k=Object(c.useState)(0),w=Object(n.a)(k,2),S=(w[0],w[1]),N=Object(c.useRef)([]);return Object(c.useEffect)((function(){if(g){var e=g.toLocaleUpperCase();0===N.current.length&&(N.current=t,S(t.length));var i=N.current.filter((function(t){return t[h]&&t[h].toUpperCase().indexOf(e)>=0}));a(i,e)}else a(N.current)}),[g]),Object(c.useEffect)((function(){0===N.current.length&&S(t.length)}),[t]),Object(r.jsx)(d,{width:s,height:b,bgColor:j,className:x,children:Object(r.jsxs)("div",{className:"search-token",children:[Object(r.jsx)("input",{type:"text",className:"search-input",placeholder:v,value:g,onChange:function(e){!function(e){var t=e.target.value;y(t)}(e)}}),Object(r.jsx)("img",{src:o.default,alt:""})]})})}},1630:function(e,t,a){"use strict";var i=a(8),n=a(188),s=a(55),c=a(140),l=a(44),o=a(18),r=a(21),d=(a(1685),a(4));function b(){return Object(d.jsx)("div",{class:"sleepContentView",children:Object(d.jsx)("div",{class:"circle"})})}var u=a(26);a(1686);t.a=Object(s.b)("wallet")(Object(s.c)((function(e){let{isBuried:t=!1,lang:a,subject:s,wallet:j,pool:p={},ignoreApprove:h,bTokenId:x,bToken:m,icon:v,label:O,onClick:f,isReady:g,disabled:y=!1,statusCallback:k,alert:w,...S}=e;const[N,T]=Object(i.useState)(!1),[C,A]=Object(i.useState)(O),[E,I]=Object(i.useState)(!1),[_,F]=Object(i.useState)(!1),[B,D]=Object(i.useState)(!0),[R,L]=Object(i.useState)(!1),[q,P]=Object(i.useState)(!1),[U,$]=Object(i.useState)(v),H=Object(i.useCallback)((async(e,t)=>{let a=!0;if(e.detail&&t.address){if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.A)(t.address))a=await l.a.request("isLpUnlocked",[e.detail.chainId,t.address,e.detail.account]);else if(x||m){const i=[e.detail.chainId,t.address,e.detail.account,x||m];a=await l.a.request("isUnlocked",i),D(a.isZero)}return a.isUnlocked}}),[m,x]),M=Object(i.useCallback)((async()=>{if(j&&p){let e;if(c.a.isOpen&&await o.openConfigListCache.update(),Object(r.A)(p.address))e=await l.a.request("unlockLp",[j.detail.chainId,p.address,j.detail.account],{includeResponse:!0,write:!0,subject:a.approve,approveTip:B?"":"Changing approved amount may result tx failure",title:{processing:"Approve Processing",success:"Approve Executed",error:"Approve Failed"},content:{success:`Approve ${m}`,error:"Transaction failed"}});else{let t=[j.detail.chainId,p.address,j.detail.account,x||m];e=await l.a.request("unlock",t,{write:!0,includeResponse:!0,subject:Object(r.k)(a.approve.toLowerCase()),approveTip:B?"":"Changing approved amount may result tx failure",title:{text:"Approve",icon:m},content:{success:`Approve ${m}`,error:"Transaction Failed"}})}if(e)return t&&Object(r.b)("marig_deposit","deposit","complete_approve"),e.success}}),[p,j,x,m]);return Object(i.useEffect)((async()=>{p&&j.detail&&j.detail.account&&a&&N&&(j.isConnected()?await H(j,p)?(I(!1),A(O),$(v),k&&k(!1)):(I(!0),$(v),k&&k(!0)):(A(a["connect-wallet"]),$(null)))}),[p,j,a,m,x,j.detail,j.detail.account,N]),Object(i.useEffect)((()=>{T(!y)}),[y]),Object(i.useEffect)((()=>{j&&p&&p.address&&(j.setAddress(p.address),p.isV3||p.isV3Lite?j.setBToken(m):j.setBTokenId(x))}),[j,p,x,m]),Object(d.jsxs)("div",{children:[Object(d.jsx)(n.a,{...S,disabled:!N,label:C,onClick:async e=>{if(p&&j&&j.detail){if(P(!0),j.isConnected()){if(h||await H(j,p))return $(v),f(e);{$(v),t&&Object(r.b)("marig_deposit","deposit","start_approve");let e=await M();if(e){F(!0),await f()&&L(!0),k&&k(!1)}else P(!1),k&&k(!0);return e}}return $(null),j.connect()}},icon:U}),!h&&E&&N&&Object(d.jsxs)("div",{className:"init-approve",children:[Object(d.jsxs)("div",{className:"step-approve",children:[!q&&Object(d.jsx)("div",{className:"step-one",children:"1"}),q&&Object(d.jsx)("div",{className:"pending",children:_?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:_?"approve-text finish-text":"approve-text",children:a.approve})]}),Object(d.jsx)("div",{className:_?"step-hr finish":"step-hr"}),Object(d.jsxs)("div",{className:"step-transaction",children:[!_&&Object(d.jsx)("div",{className:"step-two",children:"2"}),q&&_&&Object(d.jsx)("div",{className:"pending",children:R?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:R?"transaction-text finish-text":"transaction-text",children:C})]})]})]})})))},1675:function(e,t,a){},1683:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var i=a(8),n=a(189),s=a(191),c=a(72),l=a.n(c),o=a(188),r=a(1453),d=a(26),b=a(1392),u=a(18),j=a(44),p=(a(1684),a(343)),h=a(4);function x(e){let{wallet:t,alert:a}=e;const[c,x]=Object(i.useState)(0),[m,v]=Object(i.useState)(!1),[O,f]=Object(i.useState)(!1),[g,y]=Object(i.useState)(!1),[k,w]=Object(i.useState)(!1),[S,N]=Object(i.useState)(),[T,C]=Object(i.useState)(),[A,E]=Object(i.useState)(),[I,_]=Object(i.useState)(),[F,B]=Object(i.useState)("REMOVE LIQUIDITY"),D=async()=>{let e=await j.a.request("getBTokenBalance",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);console.log("getBTokenBalance",e),E(e)};return Object(i.useEffect)((()=>{t.isConnected()&&((async()=>{let e=await j.a.request("getLiquidityInfo",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);const a=e.shares?Object(u.bg)(e.shares):Object(u.bg)(0),i=a.isNaN()?Object(u.bg)(0):a.multipliedBy(e.shareValue);N(a.toString()),C(i.toFixed(4))})(),D())}),[t]),Object(i.useEffect)((()=>{1===c?B("APPROVE"):2===c&&B("ADD LIQUIDITY")}),[c]),Object(h.jsxs)("div",{className:"guidance-modal",children:[Object(h.jsxs)("div",{className:"title-close",children:[Object(h.jsx)("div",{className:"title-text",children:"Migrate Liquidity"}),Object(h.jsx)("div",{className:"close",children:Object(h.jsx)("img",{src:s.default,alt:"",onClick:()=>Object(n.a)("LiquidityGuidance")})})]}),Object(h.jsxs)("div",{className:"step-box",children:[Object(h.jsxs)("div",{className:l()("remove",{pending:0===c&&m,success:0!==c&&O}),children:[0===c&&m&&Object(h.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),0!==c&&O&&Object(h.jsx)(d.a,{token:"Guidance-success"}),"REMOVE"]}),Object(h.jsx)("div",{className:l()("hr",{"hr-success":0!==c&&O})}),Object(h.jsxs)("div",{className:l()("approve",{pending:1===c&&m,success:2===c&&g}),children:[1===c&&m&&Object(h.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),2===c&&g&&Object(h.jsx)(d.a,{token:"Guidance-success"}),"APPROVE"]}),Object(h.jsx)("div",{className:l()("hr",{"hr-success":2===c&&g})}),Object(h.jsxs)("div",{className:l()("add",{pending:2===c&&m,success:k}),children:[2===c&&m&&Object(h.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),k&&Object(h.jsx)(d.a,{token:"Guidance-success"}),"ADD"]})]}),Object(h.jsxs)("div",{className:"guidance-info",children:[Object(h.jsxs)("div",{className:"now-step",children:[0===c&&" Step 1: remove liquidity from the retired Future Inno Pool",1===c&&" Step 2: approve DERI to the new Inno Pool",2===c&&" Step 3: add DERI to the new Inno Pool"]}),0===c&&Object(h.jsxs)("div",{className:"pool-type",children:[Object(h.jsx)("div",{className:"pool-title",children:"Pool"}),Object(h.jsx)("div",{className:"pool-type-text",children:" Future Inno"})]}),Object(h.jsxs)("div",{className:"balance-box",children:[Object(h.jsx)("div",{className:"balance-title",children:"Your Staked Balance"}),Object(h.jsxs)("div",{className:"balance-num",children:[0===c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.a,{value:S,decimalScale:2})," shares (",Object(h.jsx)(b.a,{value:T})," DERI)"]}),0!==c&&Object(h.jsx)(b.a,{value:k?I:A,suffix:" DERI"})]})]}),Object(h.jsxs)("div",{className:"operate-box",children:[Object(h.jsx)("div",{className:"input-box",children:Object(h.jsx)(r.a,{inputWidth:"332px",disabled:0===c,decimal:18,unit:0===c?"SHARES":"DERI",value:0===c?S:A,onChange:e=>E(e)})}),Object(h.jsx)(o.a,{width:"332",disabled:2===c&&!(+A>0),label:F,onClick:async()=>{let e;if(v(!0),0===c){let i=[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,S,void 0,!0];return e=await j.a.request("removeLiquidity",i,{includeResponse:!0,write:!0,subject:"REMOVE LIQUIDITY"}),D(),v(!1),e&&e.success?(x(c+1),f(!0),a.success("Remove DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:"Remove Liquidity Executed"}),!0):(""===e.response.transactionHash||a.error(`Transaction Failed  : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Remove Liquidity Failed"}),!1)}if(1===c){let i=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"];if(e=await j.a.request("unlock",i,{write:!0,subject:"APPROVE"}),v(!1),e)if(e.status)x(c+1),y(!0),a.success("Approve DERI",{timeout:8e3,isTransaction:!0,transactionHash:e.transactionHash,link:`${t.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Executed"});else{if(""===e.transactionHash)return!1;a.error(`Transaction Failed ${e.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.transactionHash,link:`${t.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Failed"})}}else if(2===c){let i=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,A,"DERI"];return e=await j.a.request("addLiquidity",i,{includeResponse:!0,write:!0,subject:"ADD LIQUIDITY"}),v(!1),D(),(async()=>{let e=await j.a.request("getLiquidityInfo",[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"]);console.log("getLiquidityInfo",e);const a=e.shares?Object(u.bg)(e.shares):Object(u.bg)(0);_(a.toString())})(),e&&e.success?(w(!0),Object(n.a)("LiquidityGuidance"),a.success("Add DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:"Add Liquidity Executed"}),!0):(""===e.response.transactionHash||a.error(`Transaction Failed  : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Add Liquidity Failed"}),!1)}},fontSize:"18"})]})]})]})}},1684:function(e,t,a){},1685:function(e,t,a){},1686:function(e,t,a){},1687:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var i,n=a(9),s=a(64),c=a(8),l=(a(44),a(54)),o=a(26),r=a(246),d=a(1392),b=a(4),u=l.a.div(i||(i=Object(s.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,a=e.wallet,i=e.baseToken,s=e.penalty,l=e.isB0Staked,j=e.availableBalance,p=e.getLang,h=Object(c.useState)(""),x=Object(n.a)(h,2),m=x[0],v=x[1],O=Object(c.useState)("BUSD"),f=Object(n.a)(O,2),g=f[0],y=f[1];return Object(c.useEffect)((function(){var e,n=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC";y(n);var c={num:i,name:n},o={name:n};e=l?"BUSD"===i||"USDC"===i?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(s," ").concat(n," ").concat(p("this-action-will-update-your",o)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(s," ").concat(n," ").concat(p("this-action-will-trigger-swapping-to-update-your",c)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(s," ").concat(n," ").concat(p("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",c)),v(e)}),[l,s,i]),Object(b.jsx)(u,{children:+s<0&&+j>0&&Object(b.jsx)("div",{className:"remove-hint",children:Object(b.jsxs)(r.a,{tip:m,width:"332",children:[Object(b.jsx)(o.a,{token:"warn"})," ",Object(b.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(b.jsx)(d.a,{value:s,decimalScale:2})," ",g]})]})})})}},1688:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i,n=a(64),s=a(54),c=(a(8),a(4)),l=s.a.div(i||(i=Object(n.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,a=e.nowTimestamp,i=e.endTimestamp,n=parseInt((a-t)/(i-t)*100);return Object(c.jsx)("div",{className:"time-slider",children:Object(c.jsx)(l,{width:n})})}},1773:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var i,n=a(0),s=a(2),c=a(9),l=a(8),o=a(84),r=a.n(o),d=a(26),b=a(64),u=a(21),j=a(1440),p=a(54),h=a(135),x=a(4),m=p.a.div(i||(i=Object(b.a)(["\n&.custom-tooltip {\n  padding: 0 0 0 10px;\n  color: #E0ECFF;\n  z-index: 2;\n  .tip-title {\n    font-size: 16px;\n    color: #E0ECFF;\n  }\n  .value {\n    font-size: 32px;\n    font-weight : 700;\n    font-family : Barlow;\n  }\n  .date {\n    margin-top: 4px;\n    margin-left: 4px;\n    font-size: 14px;\n    height: 14px;\n  }\n  .text{\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:block\n  }\n  .icon{\n    width:80px;\n    height:80px;\n    background: rgba(85, 119, 253, 0.1);\n    border: 2px solid #263457;\n    border-radius:50%;\n    display:flex;\n    justify-content: center;\n    position: absolute;\n    left:134px;\n    top: 172px;\n  }\n  @media only screen and (min-width : 383px) and (max-width:759px) {\n    .icon{\n      left:calc(50vw - 59px) ;\n    }\n  }\n\n}\n"]))),v=function(e){var t=e.title,a=e.active,i=e.payload,n=(e.label,e.lastItem),s=e.decimalScale,c=void 0===s?2:s,o=e.tip,r=e.id,b=void 0===r?String((new Date).getTime())+Math.random():r,p=e.coordinate,v=e.isInfo;return Object(l.useEffect)((function(){if(v){window.onresize=function(){var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")};var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")}}),[e]),a&&i&&i.length?Object(x.jsxs)(m,{className:"custom-tooltip",coordinate:a?p:"",children:[Object(x.jsx)("div",{className:"tip-title",children:t}),Object(x.jsxs)("div",{className:"value",children:[i[0].payload.name&&i[0].payload.name,o?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{"data-for":b,"data-tip":o,className:"text",children:Object(u.f)(i[0].payload.value,c)}),Object(x.jsxs)(h.a,{id:b,padding:"12",place:"bottom",children:[" ",o," "]})]}):Object(u.f)(i[0].payload.value,c)]}),Object(x.jsx)("div",{className:"date",children:i[0].payload.time&&"".concat(Object(j.a)(new Date(1e3*i[0].payload.time),"yyyy-mm-dd")," (UTC)")}),Object(x.jsx)("div",{className:"icon",children:Object(x.jsx)(d.a,{token:i[0].payload.name,width:40})})]}):t&&n.value?Object(x.jsxs)(m,{className:"custom-tooltip",coordinate:"",children:[Object(x.jsx)("div",{className:"tip-title",children:t}),Object(x.jsxs)("div",{className:"value",children:[" ",n.name&&n.name," ",o?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{"data-for":b,"data-tip":o,className:"text",children:Object(u.f)(n.value,c)}),Object(x.jsxs)(h.a,{id:b,padding:"12",place:"bottom",children:[" ",o," "]})]}):Object(u.f)(n.value,c)]}),Object(x.jsx)("div",{className:"date",children:n.timestamp&&"".concat(Object(j.a)(new Date(1e3*n.timestamp),"yyyy-mm-dd")," (UTC)")}),Object(x.jsx)("div",{className:"icon",children:Object(x.jsx)(d.a,{token:n.name,width:40})})]}):null},O=a(1606),f=a(2543),g=a(1943),y=a(1548),k=a(1551),w=a(1942),S=a(2532);function N(e){var t=e.url,a=e.title,i=e.isInfo,o=void 0!==i&&i,d=["#3756CD","#3756cde6","#3756cdbf","#3756cd99","#3756cd73","#3756cd66","#3756cd4d","#3756cd26","#3755cd1a"],b={WBNB:"#F3BA2F",BNB:"#F0B90B",WBTC:"#F7931A",WMATIC:"#2BBDF7",amUSDC:"#2775CA",BUSD:"#F0B90B",USDT:"#26A17B",CAKE:"#24C7D6",DERI:"#3756CD",TBUSD:"#F0B90B",SXP:"#FF6E26",ETH:"#444444",LTC:"#345D9D",XRP:"#11AAE2",BTCB:"#F7931A",ADA:"#3468D1",MATIC:"#2BBDF7",AAVE:"#B5519E",TUSD:"#1B5AFF",DAI:"#F5AC37",DOT:"#E6007A",LINK:"#2A5ADA",XVS:"#F2BC55",USDC:"#2775CA",TRX:"#FF060A",TDERI:"#3756CD",UST:"#5493F7",DOGE:"#C3A634",LUNA:"#FFD83D"},j=Object(l.useState)([]),p=Object(c.a)(j,2),h=p[0],m=p[1],N=Object(l.useState)({}),T=Object(c.a)(N,2),C=T[0],A=T[1],E=Object(l.useState)({}),I=Object(c.a)(E,2),_=I[0],F=I[1],B=Object(l.useState)(!1),D=Object(c.a)(B,2),R=(D[0],D[1]),L=Object(l.useState)({activeIndex:0}),q=Object(c.a)(L,2),P=q[0],U=q[1],$=function(){var e=Object(s.a)(Object(n.a)().mark((function e(t){var a,i,s,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.get(t);case 2:a=e.sent,i=[],200===a.status&&Array.isArray(a.data.data.btokens)&&(i=a.data.data.btokens.sort((function(e,t){return t.value-e.value}))).length>0&&A(i[0]),i=i.map((function(e){return{name:e.name,value:Number(e.value)}})),s=i.slice(8,i.length),c={name:"OTHER",value:0},s=s.map((function(e,t){return c.value+=e.value,c})),8===(i=i.slice(0,8)).length&&i.push(c),m(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){var e=document.querySelector(".graph").getBoundingClientRect();F(e),$(t)}),[t]),Object(x.jsx)(f.a,{height:230,children:Object(x.jsxs)(g.a,{width:_.width,children:[Object(x.jsx)(y.a,{dataKey:"value",data:h,activeShape:function(e){var t=Math.PI/180,a=e.cx,i=e.cy,n=e.midAngle,s=e.innerRadius,c=e.outerRadius,l=e.startAngle,o=e.endAngle,r=(e.fill,e.payload),d=e.percent,u=(e.value,Math.sin(-t*n)),j=Math.cos(-t*n),p=a+(c+30)*j+22*(j>=0?1:-1),h=i+(c-8)*u,m=j>=0?"start":"end";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O.a,{cx:a,cy:i,innerRadius:s-5,outerRadius:c+5,startAngle:l,endAngle:o,fill:b[r.name]}),Object(x.jsx)("text",{x:p+-40*(j>=0?1:-1),y:h,dy:18,textAnchor:m,fill:"#FFFFFF",className:"percent",children:"".concat((100*d).toFixed(2),"%")})]})},activeIndex:P.activeIndex,cx:"50%",cy:"50%",outerRadius:100,innerRadius:75,fill:"#8884d8",onMouseEnter:function(e,t){U({activeIndex:t}),R(!0)},onMouseLeave:function(){R(!1),U({activeIndex:0})},children:h.map((function(e,t){return Object(x.jsx)(k.a,{stroke:0,fill:d[t]},"cell-".concat(t))}))}),Object(x.jsx)(w.a,{content:function(e){var t=e.payload;return Object(x.jsx)("ul",{className:"token-list",children:t.map((function(e,t){return 8!==t&&Object(x.jsxs)("li",{children:[Object(x.jsxs)("span",{className:"token-name",children:[t+1,". ",Object(x.jsx)("div",{className:e.value})," ",Object(x.jsx)("span",{className:"token-name-text",children:e.value})]})," ",Object(u.f)(e.payload.value)]},"item-".concat(t))}))})}}),Object(x.jsx)(S.a,{position:{x:16,y:-92},cursor:!0,content:Object(x.jsx)(v,{title:a,lastItem:C,isInfo:o})})]})})}},2183:function(e,t,a){},2184:function(e,t,a){},2315:function(e,t,a){},2570:function(e,t,a){"use strict";a.r(t);var i=a(8),n=a(62),s=a(55),c=a(190),l=a(1453),o=a(1630),r=a(1434),d=a(21),b=a(1392),u=a(14),j=a(44),p=(a(2183),a(18)),h=a(189),x=a(526),m=a(1683),v=a(1687),O=a(4);function f(e){let{getLang:t,wallet:a,lang:n,type:s,isLp:f,chainId:g,bTokenId:y,poolConfig:k,version:w,baseToken:S,address:N,walletBalance:T,poolInfo:C,afterTransaction:A}=e;const[E,I]=Object(i.useState)(""),[_,F]=Object(i.useState)(!1),[B,D]=Object(i.useState)(""),[R,L]=Object(i.useState)(!1),[q,P]=Object(i.useState)(""),[U,$]=Object(i.useState)(""),[H,M]=Object(i.useState)(!1),[V,z]=Object(i.useState)(!1),W=Object(c.c)(),[K,Z]=Object(i.useState)({}),X="add"===s||"v2"===w||"v3"===w||"v3_lite"===w?S:n.shares;return Object(i.useEffect)((()=>{let e="add"===s?Object(p.bg)(T):Object(p.bg)(C.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(p.bg)((+T).toFixed(5)));const t=Object(p.bg)(E);E&&0!==+E&&!t.gt(e)?((async()=>{let e,t="add"===s?E:Object(p.bg)(E).times(Object(p.bg)(-1)).toString();e="v3"===w||"v3_lite"===w?[a.detail.chainId,N,a.detail.account,t,S]:[a.detail.chainId,N,a.detail.account,t,y];let i=await j.a.request("getEstimatedLiquidityInfo",e);+i.percentage1<0&&(i.percentage1=0,i.shares1=0),Z(i)})(),L(!1)):L(!0),V&&L(!0)}),[E,s,C,T]),Object(i.useEffect)((()=>{I(""),D(""),P((new Date).getTime())}),[s,y,S]),Object(i.useEffect)((()=>{a.isConnected()&&(async()=>{if(S){let e=await j.a.request("getEstimatedLpInfo",[a.detail.chainId,N,a.detail.account,S]);$(e.b0Penalty),M(e.isB0Staked)}})()}),[a.detail,S,N]),Object(i.useEffect)((()=>{(async()=>{if(S!==(56===+g||97===+g?"BUSD":"USDC")&&S){let e=await j.a.request("getPoolB0Info",[g,N]);z(e.insufficientB0)}else z(!1)})()}),[g,N,S]),Object(O.jsxs)("div",{className:"operate-liquidity",children:[Object(O.jsx)("div",{className:"add-input",children:Object(O.jsx)(l.a,{value:E,unit:X,onChange:e=>{I(e),D(e)},inputWidth:"237px",decimal:18,styles:{"min-width":"332px"}})}),"add"===s&&Object(O.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(O.jsx)(b.a,{value:T,displayType:"text",decimalScale:2})," ",S]}),"remove"===s&&Object(O.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(O.jsx)(b.a,{value:C.totalShares,displayType:"text",decimalScale:2})," ",X]}),"remove"===s&&Object(O.jsx)("div",{children:Object(O.jsx)(v.a,{getLang:t,lang:n,baseToken:S,wallet:a,penalty:U,isB0Staked:H})}),Object(O.jsx)("div",{className:"check-proportion",children:Object(O.jsx)(r.a,{outline:!0,defaultValue:B,onChange:e=>{let t="add"===s?T:C.totalShares,a=Object(d.H)(e,t);D(e),I(a),D(e),F("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(O.jsxs)("div",{className:"information",children:[0!==+E&&("add"!==s||!V)&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"percentage",children:[Object(O.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{allowZero:!0,width:"80px",value:C.percent,decimalScale:2,suffix:"%"})," ","->","  ",Object(O.jsx)(b.a,{width:"80px",allowZero:!0,value:100*K.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(O.jsxs)("div",{className:"staked-balance",children:[Object(O.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{width:"80px",allowZero:!0,value:C.formatShares,decimalScale:2})," ","->"," ",Object(O.jsx)(b.a,{width:"80px",allowZero:!0,value:K.shares1,decimalScale:2}),"v2"===w||"v3"===w||"v3_lite"===w?" "+S:" "+n.shares]})]})]}),V&&"add"===s&&Object(O.jsxs)("div",{className:"isBTokenAdequate",children:[Object(O.jsx)("div",{className:"warning-logo",children:Object(O.jsx)("img",{src:x.default,alt:"warning"})}),Object(O.jsx)("div",{className:"warning-text",children:t("insufficient-B0",{bToken:S,b0Token:56===+g||97===+g?"BUSD":"USDC"})})]})]}),Object(O.jsxs)("div",{className:"add-remove-btn",children:["0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"===N&&C.totalShares>0&&Object(O.jsx)("div",{className:"magrined",onClick:()=>{a.isConnected()&&Object(h.b)(Object(O.jsx)(m.a,{wallet:a,alert:W}),{key:"LiquidityGuidance",fading:!0,style:{background:"rgba(0, 0, 0, 0.4)",zIndex:2}})},children:"Migrate liquidity to the new Inno Pool (DERI-Based)"}),Object(O.jsx)(o.a,{alert:W,disabled:R,fontWeight:"bold",onClick:"add"===s?async()=>{const e=Object(p.bg)(T);if(Object(p.bg)(E).gt(e))return W.error(n["not-sufficient-funds"]),!1;if(E<=0||isNaN(E))return W.error(n["it-has-to-be-greater-than-zero"]),!1;let i;if("lp"===f){let e=[a.detail.chainId,N,a.detail.account,E];i=await j.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"],title:{text:n["add-liquidity-state"],icon:S},content:{success:`${t("add-baseToken-liquidity",{baseToken:S})}`,error:n["transaction-failed"]}})}else{let e;e="v3"===w||"v3_lite"===w?[a.detail.chainId,N,a.detail.account,E,S]:[a.detail.chainId,N,a.detail.account,E,y],i=await j.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"],title:{text:n["add-liquidity-state"],icon:S},content:{success:`${t("add-baseToken-liquidity",{baseToken:S})}`,error:n["transaction-failed"]}})}return i.success&&I(""),A(!0),!0}:async()=>{const e=Object(p.bg)(C.totalShares);let i;i=_?C.totalShares:E;const s=Object(p.bg)(i);if(s.gt(e))return W.error(`${n["your-current-max-removable-shares-are"]}  ${C.totalShares}`),!1;if(+i<=0||isNaN(E))return W.error(n["invalid-liquidity"]),!1;let c;if("lp"===f){let e=[a.detail.chainId,N,a.detail.account,i];c=await j.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["remove-liquidity"],title:{text:n["remove-liquidity-state"],icon:S},content:{success:`${t("remove-baseToken-liquidity",{baseToken:S})}`,error:n["transaction-failed"]}})}else{let l;l="v3"===w||"v3_lite"===w?[a.detail.chainId,N,a.detail.account,i,S,e.eq(s)]:[a.detail.chainId,N,a.detail.account,i,y,e.eq(s)],c=await j.a.request("removeLiquidity",l,{includeResponse:!0,write:!0,subject:n["remove-liquidity"],title:{text:n["remove-liquidity-state"]},content:{success:`${t("remove-baseToken-liquidity",{baseToken:S})}`,error:n["transaction-failed"]}})}return c.success&&I(""),A(!0),!0},bToken:S,pool:k,wallet:a,bTokenId:y,fontSize:"18",type:u.B,width:"331",label:"add"===s?n["add-liquidity"]:n["remove-liquidity"],lang:n},q)]})]})}var g=a(1486),y=a(123),k=a(193),w=(a(2184),a(1675),a(510)),S=a(509),N=a(512),T=a(508),C=a(511),A=a.p+"static/media/deri.520d2449.svg",E=a(1591),I=a(514),_=a(246),F=a(328),B=a(188);const D=y[p.DeriEnv.get()].chainInfo;function R(e){let{wallet:t,chainId:a,nowApy:n,poolInfo:s,address:l,nowToken:o,lang:r,version:u,type:p,poolConfig:h,symbols:x}=e;const[m,v]=Object(i.useState)("show"),[f,g]=Object(i.useState)(),y=Object(i.useRef)(),k=(Object(c.c)(),async()=>{let e=await j.a.request("getVenusEarned",[t.detail.chainId,l,t.detail.account]);e&&(e=+e,g(e))});return Object(i.useEffect)((()=>{if(t.isConnected()&&!y.current&&("v3"===u||"v3_lite"===u)&&56===+t.detail.chainId){y.current=!0;let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,f]),Object(O.jsxs)("div",{className:"pool-info",children:[Object(O.jsxs)("div",{className:"pool-info-title",children:[Object(O.jsx)("div",{className:"pool-info-title-text",children:r["pool-info"]}),Object(O.jsxs)("div",{className:"down-up",children:["show"===m&&Object(O.jsx)("span",{onClick:()=>v("hide"),children:Object(O.jsx)("img",{className:"up-icon",alt:"",src:F.default})}),"hide"===m&&Object(O.jsx)("span",{onClick:()=>v("show"),children:Object(O.jsx)("img",{alt:"",src:F.default})})]})]}),Object(O.jsxs)("div",{className:`'pool-info-text' ${m}`,children:[Object(O.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==u&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r.apy}),Object(O.jsxs)("div",{className:"info-box-num",children:["v3"!==u&&"v3_lite"!==u&&Object(O.jsx)(b.a,{value:s.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===u||"v3_lite"===u)&&h.singleBtoken&&Object(O.jsx)(b.a,{value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===u||"v3_lite"===u)&&!h.singleBtoken&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_.a,{text:Object(O.jsx)(b.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["deri-apy"]}),"\xa0 +  \xa0  ",Object(O.jsx)(_.a,{text:Object(O.jsx)(b.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:42161!==+a?r["venus-suppy-apy"]:r["aave-suppy-apy"]}),"  \xa0 ",42161!==+a&&"+","  \xa0",42161!==+a&&Object(O.jsx)(_.a,{text:Object(O.jsx)(b.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["xvs-distribution-apy"]})]})]})]}),Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["pool-liquidity"]}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{value:s.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===u||"v3_lite"===u?56===+a||97===+a?h.singleBtoken?"DERI":"BUSD":"USDC":o]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===p&&"v2"===u)&&!h.singleBtoken&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r.multiplier}),Object(O.jsx)("div",{className:"info-box-num",children:s.multiplier})]}),Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["my-liquidity-percentage"]}),Object(O.jsx)("div",{className:"info-box-num",children:Object(O.jsx)(b.a,{allowZero:!0,value:s.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===p)&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["liquidity-share-value"]}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{allowZero:!0,decimalScale:6,value:s.shareValue,thousandSeparator:!0})," ",o]})]})}),Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["staked-balance"]}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{allowZero:!0,value:s.formatShares,decimalScale:2}),"v2"!==u&&"v3"!==u&&"v3_lite"!==u||"option"===p&&"v2"===u?" "+r.shares:" "+o]})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===p)&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title"}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{allowZero:!0,decimalScale:2,value:s.values,thousandSeparator:!0})," ",o]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===p&&"v2"===u)&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:Object(O.jsx)(_.a,{multiline:!0,text:r["mining-pnl"],tip:r["mining-pnl-hover"],html:!0,element:Object(O.jsxs)("span",{children:[" ",Object(O.jsxs)("div",{children:[r["mining-pnl-hover-one"]," "]}),r["mining-pnl-hover"]," ",Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:r["learn-more-pnl"]})," "]})," "]})})}),Object(O.jsxs)("div",{className:"info-box-num",children:[Object(O.jsx)(b.a,{allowZero:!0,prefix:" ",value:s.pnl,decimalScale:2}),"  ","v3"===u||"v3_lite"===u?56===+a||97===+a?h.singleBtoken?"DERI":"BUSD":"USDC":h&&h.bTokens[0].bTokenSymbol," (",Object(O.jsx)(b.a,{value:s.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===u||"v3_lite"===u)&&(56===+a||97===+a)&&!h.singleBtoken&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["xvs-earned"]}),Object(O.jsxs)("div",{className:"info-box-num collect-box",children:[Object(O.jsx)(b.a,{value:f,decimalScale:2}),Object(O.jsx)(B.a,{onClick:async()=>{await j.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0,write:!0,subject:r["claim-XVS"],title:{text:"Claim XVS",icon:"XVS"},content:{success:r["claim-XVS-reward"],error:r["transaction-failed"]}});k()},className:"collect",label:r.collect})]})]})]}),Object(O.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==p&&Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r.symbols}),Object(O.jsx)("div",{className:"info-box-num symbols",children:Object(O.jsx)(_.a,{tip:x,children:x})})]}),Object(O.jsxs)("div",{className:"info-box",children:[Object(O.jsx)("div",{className:"info-box-title",children:r["contract-address"]}),Object(O.jsx)("div",{className:"info-box-num",children:Object(O.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${D[a]&&D[a].viewUrl}/address/${l}`,children:Object(d.l)(l)})})]})]})]})]})}var L=a(9),q=a(26),P=a(1592);function U(e){var t=e.lang,a=e.address,n=e.checkoutBaseToken,s=e.pool,c=e.nowToken,l=e.chainId,o=e.bTokenList,r=e.version,u=e.type,j=Object(i.useState)([]),p=Object(L.a)(j,2),h=p[0],x=p[1],m=function(e){e.target.src=I.default};return Object(i.useEffect)((function(){x(o)}),[o]),Object(O.jsxs)("div",{className:"select-basetoken-info",children:[Object(O.jsxs)("div",{className:"select-coin-title-search",children:[Object(O.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(O.jsx)("div",{className:"search-box",children:Object(O.jsx)(P.a,{list:o,searchName:"bTokenSymbol",onChange:function(e){return x(e)}})})]}),Object(O.jsxs)("div",{className:"coin-search",children:[Object(O.jsx)("div",{className:"slide-icon left",children:Object(O.jsx)(q.a,{token:"arrow-left",width:"24",height:"24"})}),Object(O.jsxs)("div",{className:"v3"===r||"v3_lite"===r?"coin-list some-coin":"coin-list",children:["lp"!==u&&"v2_lite_open"!==r&&Object(O.jsx)(O.Fragment,{children:h.map((function(e,a){return Object(O.jsxs)("div",{className:c===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){n(e.bTokenId,e.bTokenSymbol)},children:[Object(O.jsxs)("div",{className:"base-apy-info",children:[Object(O.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(O.jsxs)("div",{className:"apy-base-staked",children:[Object(O.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(O.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(O.jsx)(b.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===r||"v3_lite"===r)&&!s.singleBtoken&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("span",{children:[" +  ",Object(O.jsx)(b.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  ",42161!==+l&&"+"]}),42161!==+l&&Object(O.jsx)(b.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(O.jsx)("img",{src:E.a,alt:""})]})}))}),"v2_lite_open"===r&&Object(O.jsx)(O.Fragment,{children:h.map((function(e,a){return Object(O.jsxs)("div",{className:"coin-box checked-base",onClick:function(){n(e.bTokenId)},children:[Object(O.jsxs)("div",{className:"base-apy-info",children:[Object(O.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(O.jsx)("img",{alt:"",onError:m,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(O.jsx)("div",{className:"apy-base-staked",children:Object(O.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(O.jsxs)("div",{className:"stake",children:[Object(O.jsx)("img",{src:E.a,alt:""}),t.staked]})]})}))}),"lp"===u&&o.length&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"coin-box checked-base",children:Object(O.jsxs)("div",{className:"base-apy-info",children:[Object(O.jsxs)("div",{className:"lp-btoken-logo",children:[Object(O.jsx)("div",{className:"btoken-logo ".concat(o[0].bTokenSymbol)}),Object(O.jsx)("span",{className:"conect-logo",children:"+"}),Object(O.jsx)("div",{className:"btoken-logo ".concat(o[1].bTokenSymbol)})]}),Object(O.jsxs)("div",{className:"apy-base-staked",children:[Object(O.jsx)("div",{className:"base-name",children:c}),Object(O.jsxs)("div",{className:"base-apy",children:[Object(d.x)(a)&&Object(O.jsxs)(O.Fragment,{children:[t.apy," \xa0 ",Object(O.jsx)(b.a,{value:o[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(d.E)(a)&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_.a,{text:"".concat(t.apy," 0.00 %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(O.jsx)(_.a,{text:"".concat(t.apy,"  ").concat(o[1].lpApy?(+o[1].lpApy).toFixed(2):0," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(O.jsx)("div",{className:"slide-icon right",children:Object(O.jsx)(q.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var $=a(238),H=a(1688),M=a(1546),V=a(1547),z=a(1773);a(2315);function W(e){let{address:t,chainId:a}=e;const[n,s]=Object(i.useState)(`${Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WSS_URL:"wss://oracletestnet.deri.io",REACT_APP_HTTP_URL:"https://oracletestnet.deri.io",REACT_APP_REST_SERVER_URL:"https://devapi.deri.io",REACT_APP_BACKEND_WSS_URL:"wss://devapi.deri.io",REACT_APP_KLINE_WSS_URL:"wss://klinetestnet.deri.io",REACT_APP_KLINE_HTTP_URL:"https://klinetestnet.deri.io",REACT_APP_EXECUTOR_WSS_URL:"wss://test.oraclum.io",REACT_APP_SINGLE_DOMAIN:"on"}).REACT_APP_INFO_HTTP_URL}/get_liquidity_netvalue?pool=${t}`),[c,l]=Object(i.useState)(`${Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WSS_URL:"wss://oracletestnet.deri.io",REACT_APP_HTTP_URL:"https://oracletestnet.deri.io",REACT_APP_REST_SERVER_URL:"https://devapi.deri.io",REACT_APP_BACKEND_WSS_URL:"wss://devapi.deri.io",REACT_APP_KLINE_WSS_URL:"wss://klinetestnet.deri.io",REACT_APP_KLINE_HTTP_URL:"https://klinetestnet.deri.io",REACT_APP_EXECUTOR_WSS_URL:"wss://test.oraclum.io",REACT_APP_SINGLE_DOMAIN:"on"}).REACT_APP_INFO_HTTP_URL}/get_tokens?pool=${t}`);return Object(O.jsxs)("div",{className:"pool-chart-box",children:[Object(O.jsxs)("div",{className:"graph lp-graph netValue",children:[Object(O.jsx)(M.a,{url:n,className:"line-chart-filter",onChange:e=>s(e),cycleArr:["7D","15D","ALL"]}),Object(O.jsx)(V.a,{title:"LP Net Value",isTime:!0,url:n,domain:!0,yMin:1e-4,yMax:1e-4,decimalScale:4,height:350,tip:56===+a?"This is the BUSD value you would have as of today if you had provided 1BUSD as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from Venus. Please note that your mining harvests of DERI and XVS are NOT included in this Net Value. If you provided tokens other than BUSD (i.e. BNB), the net value might be slightly different as the interest rate depends on tokens.":"This is the USDC value you would have as of today if you had provided 1USDC as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from AAVE. Please note that your mining harvests of DERI are NOT included in this Net Value. If you provided tokens other than USDC (i.e. BTC), the net value might be slightly different as the interest rate depends on tokens."})]}),Object(O.jsxs)("div",{className:"graph token-graph tokens",children:[Object(O.jsx)(M.a,{className:"chart-filter",url:c,onChange:e=>l(e),cycleArr:["TRADER","LP"]}),Object(O.jsx)(z.a,{title:"Top Margin/Liquidity",url:c})]})]})}const K=p.DeriEnv.get(),{chainInfo:Z}=y[K];t.default=Object(s.b)("wallet","poolManager")(Object(s.c)((function(e){let{lang:t,wallet:a={},poolManager:s,getLang:l}=e;const{version:o,chainId:r,address:u,type:h}=Object(n.i)(),x=Object(c.c)(),[m,v]=Object(i.useState)(),[y,_]=Object(i.useState)(""),[F,B]=Object(i.useState)(!1),[D,L]=Object(i.useState)(""),[q,P]=Object(i.useState)([]),[M,V]=Object(i.useState)([]),[z,K]=Object(i.useState)({}),[X,G]=Object(i.useState)(0),[Y,Q]=Object(i.useState)({}),J=Object(k.a)(),[ee,te]=Object(i.useState)(""),[ae,ie]=Object(i.useState)(),[ne,se]=Object(i.useState)({}),[ce,le]=Object(i.useState)(0),[oe,re]=Object(i.useState)(0),[de,be]=Object(i.useState)(0),[ue,je]=Object(i.useState)(""),[pe,he]=Object(i.useState)(!1),xe=Z[r]&&Z[r].name,me=Object(i.useRef)(),ve=Object(i.useRef)(),Oe=async()=>{if(a.isConnected()&&+a.detail.chainId===+r){let e=[a.detail.chainId,u,a.detail.account],t=null;ie(""),D.isLp?t=await j.a.request("getLpWalletBalance",e):("v2_lite_open"===o&&await p.openConfigListCache.update(),"v3"!==o&&"v3_lite"!==o||!m?(e.push(y),t=await j.a.request("getBTokenBalance",e)):(e.push(m),t=await j.a.request("getBTokenBalance",e))),ie(t)}},fe=async()=>{let e=await j.a.request("getPendingReward",[a.detail.chainId,u,a.detail.account]);if(e)if(Object(d.z)(u)){Q(e);let t=e.valid?e.amount:0;G(t)}else G(e)},ge=()=>{Oe(),ke(),we(),me.current="",ve.current=""},ye=Object(i.useMemo)((()=>({[t.add]:{content:Object(O.jsx)(f,{chainId:r,getLang:l,poolConfig:D,isLp:h,wallet:a,afterTransaction:ge,version:o,bTokenId:y,address:u,lang:t,type:"add",poolInfo:z,baseToken:m,walletBalance:ae}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"},[t.remove]:{content:Object(O.jsx)(f,{chainId:r,getLang:l,isLp:h,poolConfig:D,wallet:a,afterTransaction:ge,lang:t,address:u,type:"remove",bTokenId:y,poolInfo:z,balance:z,baseToken:m,version:o}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}})),[t,l,D,h,a,o,y,u,m,ae,z]),ke=async()=>{let e,t=z,i=z.apy/100,n=z.supplyApy,s=z.xvsApy,c=z.liquidity,l=z.multiplier;if(D){if("v2"===o&&y&&me.current!==y){me.current=y,ve.current=y;let a=await D.getPoolInfo(u,r);if(a.bTokensApy&&a.bTokensLiq){q.map((e=>{e.apy=100*+a.bTokensApy.filter((t=>t.bTokenId===e.bTokenId))[0].apy}));e=a.bTokensApy.filter((e=>e.bTokenId===y)),i=e[0].apy,l=e[0].multiplier,c=a.bTokensLiq.filter((e=>e.bTokenId===y)),c=c[0].liquidity,t={total:c,apy:100*+i,supplyApy:100*+n,multiplier:l}}}else if("v2_lite"===o||"v2"===o&&"option"===h){let e=await D.getPoolInfo(u,r);if(e.bTokensApy&&e.bTokensLiq){q.map((t=>{t.apy=100*+e.bTokensApy[0].apy}));i=e.bTokensApy[0].apy,c=e.bTokensLiq[0].liquidity,t={total:c,apy:100*+i}}}else if("v3"!==o&&"v3_lite"!==o||!m||me.current===m){if("v3"!==o&&"v2_lite"!==o&&"v3_lite"!==o&&"v2"!==o){let e=await D.getPoolInfo(u,r);if(e.bTokensApy&&e.bTokensLiq){q.map((t=>{t.apy=100*+e.bTokensApy[0].apy,Object(d.E)(u)&&(t.lpApy=e.lpApy)}));i=e.bTokensApy[0].apy,c=e.bTokensLiq[0].liquidity,t={total:c,apy:100*+i}}}}else{me.current=m;let a=await D.getPoolInfo(u,r,o);if(ve.current=m,a.bTokensApy){q.map((e=>{if("v3"!==o&&"v3_lite"!==o||D.singleBtoken)"v3"!==o&&"v3_lite"!==o||!D.singleBtoken||(e.apy=100*a.bTokensApy[0].apy);else{let t=a.bTokensApy.find((t=>t.bTokenSymbol===e.bTokenSymbol));t&&(e.apy=100*+t.apy,e.supplyApy=(100*+t.supplyApy).toFixed(3),e.xvsApy=100*+t.xvsApy)}return e}));e=a.bTokensApy.filter((e=>e.bTokenSymbol===m)),e.length?(i=e[0].apy,n=e[0].supplyApy,s=e[0].xvsApy,l=e[0].multiplier):i=a.bTokensApy[0].apy,c=a.liquidity,t={total:c,apy:100*+i,supplyApy:100*+n,xvsApy:100*+s,multiplier:l}}}if(console.log("isConnectedBegin",t),K(t),a.isConnected()&&+a.detail.chainId===+r){if("v2"===o&&y){let e=await D.getLiquidityInfo(a,u,D.version,D.isLp,h,m,y);e&&(t=e,t.apy=100*+i,t.multiplier=l)}else if("v2_lite"===o||"v2"===o&&"option"===h){let e=await D.getLiquidityInfo(a,u,D.version,D.isLp,h,m);e&&(t=e,t.apy=100*+i,t.multiplier=l)}else if("v3"!==o&&"v3_lite"!==o||!m||ve.current!==y&&ve.current!==m){if("v3"!==o&&"v2_lite"!==o&&"v3_lite"!==o&&"v2"!==o){let e=await D.getLiquidityInfo(a,u,D.version,D.isLp,h,m);e&&(t=e,t.apy=100*+i,t.multiplier=l)}}else{let e=await D.getLiquidityInfo(a,u,D.version,D.isLp,h,m,y);e&&(t=e,"v3"!==o&&"v3_lite"!==o||D.singleBtoken||(t.supplyApy=100*+n,t.xvsApy=100*+s),t.apy=100*+i,t.multiplier=l)}console.log("isConnectedAfter",t),K(t)}}},we=async()=>{if(a.isConnected()&&D&&+a.detail.chainId===+r){let e=await D.getIsStaked(a,D);if(e.bTokens){let t=D.bTokens.map((t=>{if("v2"===o&&"option"!==h)t.staked=e.bTokens.filter((e=>e.bTokenId===t.bTokenId))[0].isStaked;else if("v3"===o||"v3_lite"===o){let a=e.bTokens.filter((e=>e.bTokenSymbol===t.bTokenSymbol));t.staked=!!a.length&&a[0].isStaked}else t.staked=e.isStaked;return t})),a=[],i=[];t.forEach(((e,t)=>{e.staked?a.push(e):i.push(e)})),i.unshift(...a),V(i)}else if("v3"===o||"v3_lite"===o)v(D.bTokens[0].bTokenSymbol);else{let e;Object(d.x)(u)?(e="PANCAKE-LP",v(e)):Object(d.E)(u)?(e="DERI-USDT SLP",v(e)):(v(D.bTokens[0].bTokenSymbol),_(D.bTokens[0].bTokenId))}}else if(D&&D.bTokens.length)if("v3"===o||"v3_lite"===o)v(D.bTokens[0].bTokenSymbol);else{let e;Object(d.x)(u)?(e="PANCAKE-LP",v(e)):Object(d.E)(u)?(e="DERI-USDT SLP",v(e)):(v(D.bTokens[0].bTokenSymbol),_(D.bTokens[0].bTokenId))}};return Object(i.useEffect)((()=>{if(a.detail.chainId&&a.detail.chainId!==r&&a.switchNetwork(J[r]),a.isConnected()){let e=window.setInterval(fe,3e4);return fe(),()=>clearInterval(e)}}),[a.detail.chainId,a.detail.account]),Object(i.useEffect)((()=>{(async()=>{await s.load();let e=s.pools;"lp"===h&&(await s.loadDoubleMingingPool(),e=s.lpPools),"v2_lite_open"===o&&(await s.loadOpen(),e=s.openPools),e=e.filter((e=>e.address===u)),e=e[0];let t=e.symbols.map((e=>{let t=[];return t.push(e.symbol),t}));t=t.join(","),te(t),L(e),P(e.bTokens)})()}),[]),Object(i.useEffect)((()=>{if(q.length&&(m||y)){let e,t={};if("v2"!==o){t=q.filter((e=>e.bTokenSymbol===m))[0]}else if("v2"===o){t=q.filter((e=>e.nowTokenId===y))[0]}se(t),"v2"===o&&"option"!==h?y&&(e=q.filter((e=>e.bTokenId===y))[0].staked):"lp"!==h&&(e=q.filter((e=>e.bTokenSymbol===m))[0].staked),B(e)}}),[q,m,y]),Object(i.useEffect)((()=>{if(M.length){let e=M[0].bTokenSymbol;Object(d.x)(u)?e="PANCAKE-LP":Object(d.E)(u)&&(e="DERI-USDT SLP");let t=M[0].bTokenId;"v3"===o||"v3_lite"===o?v(e):(v(e),_(t)),P(M)}}),[M]),Object(i.useEffect)((()=>{ke(),Oe()}),[y,D,a.detail.account,m,a.detail.chainId]),Object(i.useEffect)((()=>{we()}),[D,a.detail.account,a.detail.chainId]),Object(i.useEffect)((()=>{if("v2_lite_open"!==o&&D.rewarded&&Object(d.z)(u)){let e=null;return e=window.setInterval((()=>{let e=28800,a=parseInt(Date.now()/1e3),i=parseInt(a/e)*e,n=i+e-a,s=parseInt(n/3600),c=parseInt(n%3600/60),l=parseInt(n%60);le(i),re(i+e),be(a),je(`${s} ${t.h} ${c} ${t.m} ${l} ${t.s}`)}),1e3),()=>{e&&clearInterval(e)}}}),[D]),Object(O.jsxs)("div",{className:"pool-detail",children:[Object(O.jsx)("div",{className:"back-pool",children:Object(O.jsxs)("div",{className:"icon-back",onClick:()=>{window.history.back(-1)},children:[Object(O.jsx)("img",{alt:"",src:w.default}),Object(O.jsx)("span",{children:t.back})]})}),Object(O.jsxs)("div",{className:"pool-deatail-info",children:[Object(O.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(O.jsxs)("div",{className:"pool-info-text",children:[Object(O.jsxs)("div",{className:"pool-network-type",children:[Object(O.jsx)("div",{className:"network-logo",children:Object(O.jsx)("img",{alt:"",src:(e=>{let t,a=+e;return 56===a||97===a?t=S.default:137===a?t=N.default:1===a?t=T.default:42161!==a&&421611!==a||(t=C.default),t})(r)})}),Object(O.jsxs)("div",{className:"pool-type-network-text",children:[Object(O.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==u&&Object(O.jsxs)(O.Fragment,{children:[t[D.type]," ",t[D.zone]]}),"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA"===u&&Object(O.jsx)(O.Fragment,{children:"DERI-based"}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===u&&Object(O.jsx)(O.Fragment,{children:t[D.zone]})]}),Object(O.jsx)("div",{className:"pool-network-text",children:"BSC"===xe?"BNB Chain":xe})]})]}),Object(O.jsxs)("div",{className:"pool-des",children:["lp"!==h&&t["amm-pool-des"],"clp"===o&&Object(O.jsxs)(O.Fragment,{children:[t["deri-pancake-pool-one"]," ",Object(O.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://pancakeswap.finance/add/0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",children:"DERI-BUSD "})," ",t["deri-pancake-pool-two"]]}),"slp"===o&&Object(O.jsx)(O.Fragment,{children:t["deri-sushi-pool"]}),Object(O.jsx)("br",{}),"lp"!==h?Object(O.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(O.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(O.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(O.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(O.jsx)(U,{lang:t,pool:D,chainId:r,address:u,checkoutBaseToken:async(e,t)=>{if(y&&e===y||m&&t===m)return!1;let a;a="v3"!==o&&"v3_lite"!==o?D.bTokens.filter((t=>t.bTokenId===e)):D.bTokens.filter((e=>e.bTokenSymbol===t)),K({}),_(e),ie(""),v(a[0].bTokenSymbol),B()},nowToken:m,bTokenList:q,version:o,type:h})]}),Object(O.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(O.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(O.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:`btoken-logo ${m}`,children:"v2_lite_open"===o&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("img",{alt:"",onError:e=>{e.target.src=I.default},src:`https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/${m}.png`})})}),Object(O.jsxs)("div",{className:"manage-stake",children:[Object(O.jsxs)("div",{className:"manage",children:[t.manage," ",m," ",t.liquidity]}),F&&Object(O.jsxs)("div",{className:"stake",children:[Object(O.jsx)("img",{src:E.a,alt:""}),t.staked]})]})]}),"lp"===h&&q.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"lp-btoken-logo",children:[Object(O.jsx)("div",{className:`btoken-logo ${q[0].bTokenSymbol}`}),Object(O.jsx)("span",{className:"conect-logo",children:"+"}),Object(O.jsx)("div",{className:`btoken-logo ${q[1].bTokenSymbol}`})]}),Object(O.jsxs)("div",{className:"manage-stake",children:[Object(O.jsxs)("div",{className:"manage",children:[t.manage," ",m," ",t.liquidity]}),F&&Object(O.jsxs)("div",{className:"stake",children:[Object(O.jsx)("img",{src:E.a,alt:""}),t.staked]})]})]})]}),Object(O.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==o&&D.rewarded&&Object(O.jsxs)(O.Fragment,{children:[Object(d.z)(u)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==u&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"deri-num-slider",children:[Object(O.jsx)("div",{className:"deri-cliam-remaining",children:ue}),Object(O.jsx)("div",{className:"deri-claim-slider",children:Object(O.jsx)(H.a,{startTimestamp:ce,nowTimestamp:de,endTimestamp:oe})}),Object(O.jsx)("div",{className:"deri-claim-pool-num",children:l("deri-claim-pool-num",{num:+Y.lp?(+Y.lp).toFixed(4):0})})]})}),Object(O.jsx)("div",{className:Object(d.z)(u)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==u?"mining-pool-claim epoch-pool":"mining-pool-claim",children:Object(O.jsxs)("div",{className:"mining-claim-info",children:[Object(O.jsxs)("span",{children:[" ",t["you-have"]]}),Object(O.jsxs)("span",{className:(0===+X?"no-deri":"")+" mining-pool-num",onClick:async()=>{if(0===+X)return void x.error(t["no-deri-to-claim-yet"]);if(Object(d.z)(u)){if(parseInt(Date.now()/1e3)%28800<1800)return void x.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"])}he(!0);let e=await j.a.request("claimReward",[a.detail.chainId,u,a.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"],title:{text:"Claim Deri",icon:"DERI"},content:{success:t["claim-deri-reward"],error:t["transaction-failed"]}});return fe(),he(!1),e.success?(G(0),!0):void 0},children:[pe&&Object(O.jsx)($.a,{}),Object(O.jsx)(b.a,{firstTime:!1,value:X,decimalScale:2}),Object(O.jsx)("img",{src:A,alt:"deri"})]}),Object(O.jsx)("span",{children:t["claim-in-pool"]})]})})]})})]}),Object(O.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(O.jsx)(R,{wallet:a,nowApy:ne,poolInfo:z,chainId:r,address:u,nowToken:m,lang:t,version:o,type:h,poolConfig:D,symbols:ee}),Object(O.jsx)("div",{className:"add-remove-liquidity",children:Object(O.jsx)(g.a,{tabSet:ye,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]}),("v3"===o||"v3_lite"===o)&&Object(O.jsx)(W,{address:u,chainId:r})]})})))}}]);
//# sourceMappingURL=18.1fa211de.chunk.js.map