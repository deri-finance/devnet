(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1226:function(e,t,a){"use strict";var n,i,c=a(27),s=a(193),o=a(62),l=a(9),r=a(61),d=a(6),b=(a(69),a(1277)),u=a(52),j=a(20),p=a(15),h=a(4),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],f=Object(u.a)(b.a)(n||(n=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=u.a.div(i||(i=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(d.useState)(!0),b=Object(l.a)(r,2),u=b[0],m=b[1],O=function(){var t=e.allowZero;return"object"!==Object(o.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,o=void 0===n?"--":n,l=Object(s.a)(e,x);if(O())l.decimalScale>0&&!t&&l.value&&/\d+\.0*[1-9]+/.test(l.value)&&0===+Object(p.bg)(l.value).toFixed(+l.decimalScale||2)&&(l.decimalScale=Object(j.d)(Math.abs(l.value))+2),-1===l.decimalScale&&delete l.decimalScale,l.value=Object(j.J)(l.value),l.value&&/\d+.9{6}/.test(l.value)&&(l.value=(+l.value).toFixed(5)),i(Object(h.jsx)(f,Object(c.a)(Object(c.a)({},l),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var r=e.width,d=e.height;i(Object(h.jsx)(v,{className:"loading-line",width:r,height:d})),a&&m(!1)}var b=window.setTimeout((function(){O()||i(o)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1234:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,i=a(61),c=a(52),s=a(1310),o=a.n(s),l=a(145),r=a(20),d=a(1284),b=a(4),u=c.a.div(n||(n=Object(i.a)(["\n  display:",";\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:","\n  }\n  \n  .__react_component_tooltip.tooltip.show {\n    font-weight : "," \n  }\n"])),(function(e){return e.block}),(function(e){return e.block}),(function(e){return e.isWin?400:600}));function j(e){var t=e.text,a=e.id,n=void 0===a?String((new Date).getTime())+Math.random():a,i=e.tip,c=e.multiline,s=e.html,j=e.className,p=e.element,h=void 0===p?"":p,x=e.block,f=void 0===x?"block":x,v=e.width,m=void 0===v?"auto":v,O=e.children,g=e.tiggerEvent;return Object(b.jsxs)(u,{className:j,block:f,isWin:d.isWindows,children:[Object(b.jsx)("div",{className:"text","data-for":n,"data-tip":s?o.a.renderToString(h):i,"data-event":Object(r.y)()?"click":g,"data-html":s,children:t||O}),i&&Object(b.jsx)(l.a,{id:n,width:m,padding:"12",place:"bottom",overridePosition:function(e,t,a,n,i,c,s,o){var l=a.getBoundingClientRect(),r=n.getBoundingClientRect(),d=l.x,b=l.y,u=l.height,j=l.width;e.left,e.top;return d+r.width/2>document.documentElement.clientWidth?d-=Math.abs(j-r.width):d-(r.width-j)/2<0?d-=j:d-=(r.width-j)/2,b+u+r.height>=document.documentElement.clientHeight?b=b+u-r.height:b+=u,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:s,borderRadius:8,multiline:c})]})}},1269:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(9),c=a(61),s=a(6),o=a(169),l=a(52),r=a(4),d=l.a.div(n||(n=Object(c.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,n=e.selectedBorderColor,c=e.defaultBorderColor,l=e.onChange,b=e.defaultValue,u=e.outline,j=e.outlineColor,p=e.width,h=e.height,x=e.bgColor,f=e.className,v=e.disabled,m=e.canUnselected,O=void 0===m||m,g=Object(s.useState)(b),k=Object(i.a)(g,2),y=k[0],w=k[1];return Object(s.useEffect)((function(){w(b)}),[b]),Object(r.jsx)(d,{className:f,children:a.map((function(e,t){return Object(r.jsx)(o.a,{label:e,selectedBorderColor:n,isSelected:e===y,disabled:v,outline:u,bgColor:x,className:"g-button",defaultBorderColor:c,outlineColor:j,width:p,height:h,onClick:function(){var t;(t=e)!==y?(w(t),l&&l(t)):O&&t===y?(w(""),l&&l("")):w(t)}},t)}))})}},1297:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,i=a(27),c=a(61),s=a(6),o=a(52),l=a(15),r=a(1234),d=a(4),b=o.a.div(n||(n=Object(c.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,n=e.unitTip,c=e.max,o=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,h=e.disableNegtive,x=void 0===h||h,f=e.focus,v=e.placeholder,m=void 0===v?"":v,O=e.unitPadding,g=void 0===O?"24px":O,k=e.minTradeVolume,y=e.decimal,w=void 0===y?2:y,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,I=void 0===C?"56px":C,E=e.className,F=e.disabled,q=void 0!==F&&F,L=e.onBlur,_=e.onFocus,B=Object(s.useRef)(null);return Object(s.useEffect)((function(){B.current.setCustomValidity(""),B.current&&f&&B.current.focus()}),[f]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:I,className:E,style:Object(i.a)({},p),children:[Object(d.jsx)("input",{placeholder:m,type:"number",onBlur:L,onFocus:_,disabled:q,value:t,step:o,ref:B,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),n=e.target.value;if(c&&Object(l.bg)(n).gt(c))u&&u(c);else if(x&&(n<0||isNaN(n)))u&&u("");else if(n){if(k>=1)if(n/k>=1)u&&u(Object(l.bg)(n).div(k).integerValue()*k);else u&&u(n*k);else if(/\d+\./.test(n)&&!a.test(n)){var i=n.substring(0,n.indexOf(".")+1+w);u&&u(i)}else u&&u(n)}else u&&u(n)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:n?Object(d.jsx)(r.a,{tip:n,text:a}):a})]})}},1311:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(9),c=a(61),s=a(52),o=a(6),l=a(29),r=a(4),d=s.a.div(n||(n=Object(c.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function b(e){var t=e.tabSet,a=e.inactiveBgColor,n=e.iconMarginRight,c=e.activeBgColor,s=(e.icon,e.className),b=e.width,u=void 0===b?238:b,j=e.height,p=void 0===j?47:j,h=e.size,x=void 0===h?16:h,f=e.borderTop,v=void 0!==f&&f,m=e.borderBottom,O=void 0!==m&&m,g=e.divider,k=void 0!==g&&g,y=e.activeIndex,w=void 0===y?0:y,N=Object.keys(t),S=Object(o.useState)(N[w]),T=Object(i.a)(S,2),C=T[0],I=T[1],E=Object(o.useState)(),F=Object(i.a)(E,2),q=F[0],L=F[1],_=Object(o.useState)(),B=Object(i.a)(_,2),$=B[0],A=B[1],D=Object(o.useState)(),R=Object(i.a)(D,2),U=R[0],H=R[1],z=Object(o.useState)(),P=Object(i.a)(z,2),Z=P[0],V=P[1],W=Object(o.useState)(),M=Object(i.a)(W,2),J=M[0],X=M[1],K=Object(o.useState)(),Y=Object(i.a)(K,2),G=Y[0],Q=Y[1];return Object(o.useEffect)((function(){var e=Object.keys(t);I(e[w])}),[t,w]),Object(o.useEffect)((function(){var e=Object.keys(t),a=C||e[w];if(t[a]){L(t[a].style);var n=v?"border-top:1px solid ".concat(t[a].borderColor):"border-top:0",i=O?"border-bottom:1px solid ".concat(t[a].borderColor):"border-bottom:0",c=k?"border-left:1px solid ".concat(t[a].borderColor):"border-left:0",s=k?"border-right:1px solid ".concat(t[a].borderColor):"border-right:0",o=t[a].fontColor?t[a].fontColor:"#FFFFFF";A(n),H(c),V(i),X(s),Q(o)}}),[t,C]),Object(r.jsxs)("div",{style:q,className:s,children:[Object(r.jsx)(d,{className:"tab-header",iconMarginRight:n,width:u,height:p,activeFontColor:G,activeBgColor:c,inactiveBgColor:a,size:x,borderT:$,borderB:Z,borderL:U,borderR:J,children:N.map((function(e,a){return Object(r.jsxs)("div",{className:"".concat(t[e].direction||t[e].className,e===C?" active":" inactive"),onClick:function(t){return function(e,t){I(e)}(e)},children:[t[e].icon?Object(r.jsx)(l.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===C?t[e].icon:t[e].inicon}):"","  ",e]},a)}))}),t[C]?t[C].content:""]})}},1350:function(e,t,a){"use strict";var n=a(6),i=a(169),c=a(48),s=a(127),o=a(38),l=a(15),r=a(20),d=(a(1490),a(4));function b(){return Object(d.jsx)("div",{class:"sleepContentView",children:Object(d.jsx)("div",{class:"circle"})})}var u=a(29);a(1491);t.a=Object(c.b)("wallet")(Object(c.c)((function(e){let{lang:t,subject:a,wallet:c,pool:j={},ignoreApprove:p,bTokenId:h,bToken:x,icon:f,label:v,onClick:m,isReady:O,disabled:g=!0,statusCallback:k,alert:y,...w}=e;const[N,S]=Object(n.useState)(!0),[T,C]=Object(n.useState)(v),[I,E]=Object(n.useState)(!1),[F,q]=Object(n.useState)(!1),[L,_]=Object(n.useState)(!1),[B,$]=Object(n.useState)(!1),[A,D]=Object(n.useState)(f),R=Object(n.useCallback)((async(e,t)=>{let a;if(e.detail&&t.address)if(s.a.isOpen&&await l.openConfigListCache.update(),Object(r.x)(t.address))a=await o.a.request("isLpUnlocked",[e.detail.chainId,t.address,e.detail.account]);else{const n=[e.detail.chainId,t.address,e.detail.account,h||x];a=await o.a.request("isUnlocked",n)}return a}),[x,h]),U=Object(n.useCallback)((async()=>{if(c&&j){let e;if(s.a.isOpen&&await l.openConfigListCache.update(),Object(r.x)(j.address))e=await o.a.request("unlockLp",[c.detail.chainId,j.address,c.detail.account],{write:!0,subject:t.approve});else{let a=[c.detail.chainId,j.address,c.detail.account,h||x];e=await o.a.request("unlock",a,{write:!0,subject:Object(r.h)(t.approve.toLowerCase())})}return e}}),[j,c,h,x]);return Object(n.useEffect)((async()=>{j&&c.detail&&c.detail.account&&j.bTokens&&t&&(c.isConnected()?await R(c,j)?(E(!1),C(v),D(f),k&&k(!1)):(E(!0),D(f),k&&k(!0)):(C(t["connect-wallet"]),D(null)))}),[j,c,t,x,h]),Object(n.useEffect)((()=>{S(!g)}),[g]),Object(n.useEffect)((()=>{c&&j&&j.address&&(c.setAddress(j.address),j.isV3||j.isV3Lite?c.setBToken(x):c.setBTokenId(h))}),[c,j,h,x]),Object(d.jsxs)("div",{children:[Object(d.jsx)(i.a,{...w,disabled:!N,label:T,onClick:async e=>{if(j&&c&&c.detail){if($(!0),c.isConnected()){if(p||await R(c,j))return D(f),m(e);{D(f);let e=await U();if(e){q(!0),await m()&&_(!0),k&&k(!1)}else $(!1),y&&y.error("Approve failed"),k&&k(!0);return e}}return D(null),c.connect()}},icon:A}),!p&&I&&N&&Object(d.jsxs)("div",{className:"init-approve",children:[Object(d.jsxs)("div",{className:"step-approve",children:[!B&&Object(d.jsx)("div",{className:"step-one",children:"1"}),B&&Object(d.jsx)("div",{className:"pending",children:F?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:F?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(d.jsx)("div",{className:F?"step-hr finish":"step-hr"}),Object(d.jsxs)("div",{className:"step-transaction",children:[!F&&Object(d.jsx)("div",{className:"step-two",children:"2"}),B&&F&&Object(d.jsx)("div",{className:"pending",children:L?Object(d.jsx)(u.a,{token:"finish"}):Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:L?"transaction-text finish-text":"transaction-text",children:T})]})]})]})})))},1362:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,i=a(61),c=a(52),s=(a(6),a(4)),o=c.a.div(n||(n=Object(i.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function l(e){var t=e.startTimestamp,a=e.nowTimestamp,n=e.endTimestamp,i=parseInt((a-t)/(n-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(o,{width:i})})}},1364:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(9),c=a(61),s=a(6),o=a(52),l=a(474),r=a(4),d=o.a.div(n||(n=Object(c.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function b(e){var t=e.list,a=e.onChange,n=e.width,c=void 0===n?"320":n,o=e.height,b=void 0===o?"48":o,u=e.bgColor,j=void 0===u?"rgba(85, 119, 253, 0.1)":u,p=e.searchName,h=void 0===p?"bTokenSymbol":p,x=e.className,f=e.placeholder,v=void 0===f?"Search":f,m=(e.onFocus,e.onBlur,Object(s.useState)("")),O=Object(i.a)(m,2),g=O[0],k=O[1],y=Object(s.useState)(0),w=Object(i.a)(y,2),N=(w[0],w[1]),S=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(g){var e=g.toLocaleUpperCase();0===S.current.length&&(S.current=t,N(t.length));var n=S.current.filter((function(t){return t[h]&&t[h].toUpperCase().indexOf(e)>=0}));a(n,e)}else a(S.current)}),[g]),Object(s.useEffect)((function(){0===S.current.length&&N(t.length)}),[t]),Object(r.jsx)(d,{width:c,height:b,bgColor:j,className:x,children:Object(r.jsxs)("div",{className:"search-token",children:[Object(r.jsx)("input",{type:"text",className:"search-input",placeholder:v,value:g,onChange:function(e){!function(e){var t=e.target.value;k(t)}(e)}}),Object(r.jsx)("img",{src:l.default,alt:""})]})})}},1403:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1482:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(6),i=a(169),c=a(1362),s=a(172),o=a(170),l=a(1226),r=a(38),d=a(20),b=(a(1483),a(4));function u(e){let{lang:t,getLang:a,poolShow:u=!0,wallet:j={}}=e;const[p,h]=Object(n.useState)(""),[x,f]=Object(n.useState)(0),v=Object(o.c)(),[m,O]=Object(n.useState)(0),[g,k]=Object(n.useState)(0),[y,w]=Object(n.useState)({}),[N,S]=Object(n.useState)(!1),[T,C]=Object(n.useState)(""),I=Object(s.a)(y.chainId);Object(n.useEffect)((()=>{let e=null;return e=window.setInterval((()=>{let e=28800,a=parseInt(Date.now()/1e3),n=parseInt(a/e)*e,i=n+e-a,c=parseInt(i/3600),s=parseInt(i%3600/60),o=parseInt(i%60);f(n),O(n+e),k(a),h(`${c} ${t.h} ${s} ${t.m} ${o} ${t.s}`)}),1e3),()=>{e&&clearInterval(e)}}),[]);const E=async()=>{if(j.isConnected()){const e=await r.a.request("getUserInfoAll",[j.detail.account]),t=(+e.total).toFixed(2),a=e.valid?(+e.amount).toFixed(2):0,n=e.lp,i=(+e.trade).toFixed(2),c=e.chainId;w({claimed:t,unclaimed:a,harvestDeriLp:n,harvestDeriTrade:i,chainId:c})}},F=async()=>{if(j.isConnected()){let e=await r.a.request("getUserFirstClaimInfo",[j.detail.account]);if(e.first_timestamp){let a=new Date(1e3*e.first_timestamp),n=a.getFullYear(),i=a.getMonth()+1;i=(e=>{let a;switch(e){case 1:a=t.jan;break;case 2:a=t.feb;break;case 3:a=t.mar;break;case 4:a=t.apr;break;case 5:a=t.may;break;case 6:a=t.jun;break;case 7:a=t.jul;break;case 8:a=t.aug;break;case 9:a=t.sep;break;case 10:a=t.oct;break;case 11:a=t.nov;break;case 12:a=t.dec}return a})(i);let c=a.getDate();C(`${i} ${c}, ${n}`)}else C("")}};return Object(n.useEffect)((()=>{let e=window.setInterval(E,18e4);return E(),F(),()=>clearInterval(e)}),[j.detail.account]),Object(b.jsx)("div",{className:"mining-claim",children:Object(b.jsxs)("div",{className:"mining-claim-info",children:[Object(b.jsxs)("div",{className:"deri-num-slider",children:[Object(b.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",p]}),y.harvestDeriLp>0&&Object(b.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(b.jsx)("span",{className:"deri-num",children:Object(b.jsx)(l.a,{value:y.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),u&&Object(b.jsxs)("div",{className:"deri-claim-text",children:[a("claim-deri",{num:N?0:y.unclaimed?y.unclaimed:0}),T&&Object(b.jsxs)("span",{children:[" ",a("claim-deri-history",{date:T,num:N?+y.unclaimed+ +y.claimed:y.claimed})," . ",t.woohoo]})]}),Object(b.jsx)("div",{className:"deri-claim-slider",children:Object(b.jsx)(c.a,{startTimestamp:x,nowTimestamp:g,endTimestamp:m})})]}),u&&Object(b.jsx)("div",{className:"cliam-button",children:Object(b.jsx)(i.a,{icon:"ClaimDeri",fontWeight:"bold",label:t["claim-all"],onClick:async()=>{if(j.isConnected()){await(async()=>{if(void 0===I.name)return void v.error(`${t["wrong-network"]}`);if(!Object(d.f)(j.detail.chainId,y.chainId))return void v.error(`${t["your-deri-is-on"]} ${I.name} ${t["connect-to"]} ${I.name} ${t["to-claim"]}`);if(0===+y.unclaimed)return void v.error(t["no-deri-to-claim-yet"]);if(parseInt(Date.now()/1e3)%28800<1800)return void v.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]);let e=await r.a.request("mintDToken",[j.detail.chainId,j.detail.account],{includeResponse:!0,write:!0,subject:"Claim Deri"});return e.success?(v.success("Claim Deri reward",{timeout:5e3,isTransaction:!0,link:`${j.blockExploreUrl}/tx/${e.response.data.blockHash}`,title:"Claim Reward  Executed"}),!0):(""===e.response.transactionHash||v.error(`Transaction Failed ${e.response.error}`,{timeout:3e5,isTransaction:!0,link:`${j.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Claim Reward  Failed"}),!1)})()&&S(!0)}else try{return!!await j.connect()}catch(e){return!1}}})})]})})}},1483:function(e,t,a){},1490:function(e,t,a){},1491:function(e,t,a){},1492:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,i=a(9),c=a(61),s=a(6),o=(a(38),a(52)),l=a(29),r=a(1234),d=a(1226),b=a(4),u=o.a.div(n||(n=Object(c.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,a=e.baseToken,n=e.penalty,c=e.isB0Staked,o=e.availableBalance,j=e.getLang,p=Object(s.useState)(""),h=Object(i.a)(p,2),x=h[0],f=h[1];return Object(s.useEffect)((function(){var e,i={num:a};e=c?"BUSD"===a?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(t["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your",i)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",i)),f(e)}),[c,n,a]),Object(b.jsx)(u,{children:+n<0&&+o>0&&Object(b.jsx)("div",{className:"remove-hint",children:Object(b.jsxs)(r.a,{tip:x,width:"332",children:[Object(b.jsx)(l.a,{token:"warn"})," ",Object(b.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(b.jsx)(d.a,{value:n,decimalScale:2})," BUSD"]})]})})})}},1982:function(e,t,a){},1983:function(e,t,a){},2366:function(e,t,a){"use strict";a.r(t);var n=a(125),i=a(2),c=a(9),s=a(0),o=a.n(s),l=a(6),r=a(58),d=a(87),b=a(48),u=a(1482),j=a(1297),p=a(1350),h=a(1269),x=a(20),f=a(1226),v=a(16),m=a(38),O=a(170),g=(a(1982),a(15)),k=a(1492),y=a(4);function w(e){let{getLang:t,wallet:a,lang:n,type:i,isLp:c,bTokenId:s,poolConfig:o,version:r,baseToken:d,address:b,walletBalance:u,poolInfo:w,afterTransaction:N}=e;const[S,T]=Object(l.useState)(""),[C,I]=Object(l.useState)(!1),[E,F]=Object(l.useState)(""),[q,L]=Object(l.useState)(!1),[_,B]=Object(l.useState)(""),[$,A]=Object(l.useState)(!1),D=Object(O.c)(),[R,U]=Object(l.useState)({}),H="add"===i||"v2"===r||"v3"===r||"v3_lite"===r?d:n.shares;return Object(l.useEffect)((()=>{let e="add"===i?Object(g.bg)(u):Object(g.bg)(w.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(u)&&(e=Object(g.bg)((+u).toFixed(5)));const t=Object(g.bg)(S);S&&0!==+S&&!t.gt(e)?((async()=>{let e,t="add"===i?S:Object(g.bg)(S).times(Object(g.bg)(-1)).toString();e="v3"===r||"v3_lite"===r?[a.detail.chainId,b,a.detail.account,t,d]:[a.detail.chainId,b,a.detail.account,t,s];let n=await m.a.request("getEstimatedLiquidityInfo",e);+n.percentage1<0&&(n.percentage1=0,n.shares1=0),U(n)})(),L(!1)):L(!0)}),[S,i,w,u]),Object(l.useEffect)((()=>{T(""),F("")}),[i,s,d]),Object(l.useEffect)((()=>{a.isConnected()&&(async()=>{if(d){let e=await m.a.request("getEstimatedLpInfo",[a.detail.chainId,b,a.detail.account,d]);B(e.b0Penalty),A(e.isB0Staked)}})()}),[a.detail,d,b]),Object(y.jsxs)("div",{className:"operate",children:[Object(y.jsx)("div",{className:"add-input",children:Object(y.jsx)(j.a,{value:S,unit:H,onChange:e=>{T(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===i&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(y.jsx)(f.a,{value:u,displayType:"text",decimalScale:2})," ",d]}),"remove"===i&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(y.jsx)(f.a,{value:w.totalShares,displayType:"text",decimalScale:2})," ",H]}),"remove"===i&&Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{getLang:t,lang:n,baseToken:d,penalty:_,isB0Staked:$})}),Object(y.jsx)("div",{className:"check-proportion",children:Object(y.jsx)(h.a,{outline:!0,defaultValue:E,onChange:e=>{let t="add"===i?u:w.totalShares,a=Object(x.E)(e,t);F(e),T(a),F(e),I("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(y.jsx)("div",{className:"information",children:0!==+S&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"percentage",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{allowZero:!0,width:"80px",value:w.percent,decimalScale:2,suffix:"%"})," ->  ",Object(y.jsx)(f.a,{width:"80px",allowZero:!0,value:100*R.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"staked-balance",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{width:"80px",allowZero:!0,value:w.formatShares,decimalScale:2})," -> ",Object(y.jsx)(f.a,{width:"80px",allowZero:!0,value:R.shares1,decimalScale:2}),"v2"===r||"v3"===r||"v3_lite"===r?" "+d:" "+n.shares]})]})]})}),Object(y.jsxs)("div",{className:"add-remove-btn",children:["add"===i&&Object(y.jsx)(p.a,{alert:D,disabled:q,fontWeight:"bold",onClick:async()=>{const e=Object(g.bg)(u);if(Object(g.bg)(S).gt(e))return D.error(n["not-sufficient-funds"]),!1;if(S<=0||isNaN(S))return D.error(n["it-has-to-be-greater-than-zero"]),!1;let t;if("lp"===c){let e=[a.detail.chainId,b,a.detail.account,S];t=await m.a.request("addLpLiquidity",e,{includeResponse:!0})}else{let e;e="v3"===r||"v3_lite"===r?[a.detail.chainId,b,a.detail.account,S,d]:[a.detail.chainId,b,a.detail.account,S,s],t=await m.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"]})}return N(!0),T(""),t&&t.success?(D.success(`Add ${d} liquidity`,{timeout:5e3,isTransaction:!0,link:`${a.blockExploreUrl}/tx/${t.response.data.blockHash}`,title:"Add Liquidity Executed"}),!0):(""===t.response.transactionHash||D.error(`Transaction Failed ${t.response.error}`,{timeout:3e5,isTransaction:!0,link:`${a.blockExploreUrl}/tx/${t.response.transactionHash}`,title:"Add Liquidity Failed"}),!1)},bToken:d,pool:o,wallet:a,bTokenId:s,fontSize:"18",type:v.o,width:"331",label:n["add-liquidity"],lang:n}),"remove"===i&&Object(y.jsx)(p.a,{alert:D,disabled:q,fontWeight:"bold",onClick:async()=>{const e=Object(g.bg)(w.totalShares);let t;t=C?w.totalShares:S;const i=Object(g.bg)(t);if(i.gt(e))return D.error(`${n["your-current-max-removable-shares-are"]}  ${w.totalShares}`),!1;if(+t<=0||isNaN(S))return D.error(n["invalid-liquidity"]),!1;let o;if("lp"===c){let e=[a.detail.chainId,b,a.detail.account,t];o=await m.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}else{let c;c="v3"===r||"v3_lite"===r?[a.detail.chainId,b,a.detail.account,t,d,e.eq(i)]:[a.detail.chainId,b,a.detail.account,t,s,e.eq(i)],o=await m.a.request("removeLiquidity",c,{includeResponse:!0,write:!0,subject:n["remove-liquidity"]})}if(o&&o.success)D.success(`Remove ${d} liquidity`,{timeout:5e3,isTransaction:!0,link:`${a.blockExploreUrl}/tx/${o.response.data.blockHash}`,title:"Remove Liquidity Executed"});else{if(""===o.response.transactionHash)return!1;D.error(`Transaction Failed ${o.response.error}`,{timeout:3e5,isTransaction:!0,link:`${a.blockExploreUrl}/tx/${o.response.transactionHash}`,title:"Remove Liquidity Failed"})}return T(""),N(),!0},bToken:d,pool:o,type:v.o,wallet:a,bTokenId:s,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var N=a(1311),S=a(110),T=a(172),C=(a(1983),a(468)),I=a(465),E=a(466),F=a(464),q=a(1403),L=a(467),_=a(1234),B=a(295),$=a(169);const A=S[g.DeriEnv.get()].chainInfo;function D(e){let{wallet:t,chainId:a,nowApy:n,poolInfo:i,address:c,nowToken:s,lang:o,version:r,type:d,poolConfig:b,symbols:u}=e;const[j,p]=Object(l.useState)("show"),[h,v]=Object(l.useState)(),g=Object(O.c)(),k=async()=>{if(console.log("poolConfig",b),b){let e=await b.getVenusEarned(t,c);e=+e,v(e)}};return Object(l.useEffect)((()=>{if(t.isConnected()&&("v3"===r||"v3_lite"===r)){let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,b]),Object(y.jsxs)("div",{className:"pool-info",children:[Object(y.jsxs)("div",{className:"pool-info-title",children:[Object(y.jsx)("div",{className:"pool-info-title-text",children:o["pool-info"]}),Object(y.jsxs)("div",{className:"down-up",children:["show"===j&&Object(y.jsx)("span",{onClick:()=>p("hide"),children:Object(y.jsx)("img",{className:"up-icon",alt:"",src:B.default})}),"hide"===j&&Object(y.jsx)("span",{onClick:()=>p("show"),children:Object(y.jsx)("img",{alt:"",src:B.default})})]})]}),Object(y.jsxs)("div",{className:`'pool-info-text' ${j}`,children:[Object(y.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==r&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o.apy}),Object(y.jsxs)("div",{className:"info-box-num",children:["v3"!==r&&"v3_lite"!==r&&Object(y.jsx)(f.a,{value:i.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===r||"v3_lite"===r)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_.a,{text:Object(y.jsx)(f.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:o["deri-apy"]}),"\xa0 +  \xa0  ",Object(y.jsx)(_.a,{text:Object(y.jsx)(f.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:o["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(y.jsx)(_.a,{text:Object(y.jsx)(f.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:o["xvs-distribution-apy"]})]})]})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["pool-liquidity"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{value:i.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===r||"v3_lite"===r?"BUSD":s]})]}),("v2"===r||"v3"===r||"v3_lite"===r)&&!("option"===d&&"v2"===r)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o.multiplier}),Object(y.jsx)("div",{className:"info-box-num",children:i.multiplier})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["my-liquidity-percentage"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(f.a,{allowZero:!0,value:i.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==r&&"v3"!==r&&"v3_lite"!==r||"v2"===r&&"option"===d)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["liquidity-share-value"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{allowZero:!0,decimalScale:6,value:i.shareValue,thousandSeparator:!0})," ",s]})]})}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{allowZero:!0,value:i.formatShares,decimalScale:2}),"v2"!==r&&"v3"!==r&&"v3_lite"!==r||"option"===d&&"v2"===r?" "+o.shares:" "+s]})]}),("v2"!==r&&"v3"!==r&&"v3_lite"!==r||"v2"===r&&"option"===d)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title"}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{allowZero:!0,decimalScale:2,value:i.values,thousandSeparator:!0})," ",s]})]}),("v2"===r||"v3"===r||"v3_lite"===r)&&!("option"===d&&"v2"===r)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:Object(y.jsx)(_.a,{multiline:!0,text:o["mining-pnl"],tip:o["mining-pnl-hover"],html:!0,element:Object(y.jsxs)("span",{children:[" ",Object(y.jsxs)("div",{children:[o["mining-pnl-hover-one"]," "]}),o["mining-pnl-hover"]," ",Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:o["learn-more-pnl"]})," "]})," "]})})}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(f.a,{allowZero:!0,prefix:" ",value:i.pnl,decimalScale:2}),"  ",b&&b.bTokens[0].bTokenSymbol," (",Object(y.jsx)(f.a,{value:i.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===r||"v3_lite"===r)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["xvs-earned"]}),Object(y.jsxs)("div",{className:"info-box-num collect-box",children:[Object(y.jsx)(f.a,{value:h,decimalScale:2}),Object(y.jsx)($.a,{onClick:async()=>{let e=await m.a.request("claimXVSLp",[t.detail.chainId,c,t.detail.account],{includeResponse:!0,write:!0,subject:"Claim XVS"});if(e&&e.success)g.success("Claim XVS reward",{timeout:5e3,isTransaction:!0,link:`${t.blockExploreUrl}/tx/${e.response.data.blockHash}`,title:"Claim Reward  Executed"});else{if(""===e.response.transactionHash)return!1;g.error(`Transaction Failed ${e.response.error}`,{timeout:3e5,isTransaction:!0,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Claim Reward  Failed"})}k()},className:"collect",label:o.collect})]})]})]}),Object(y.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==d&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o.symbols}),Object(y.jsx)("div",{className:"info-box-num symbols",children:"main"===b.zone?u:Object(y.jsx)(_.a,{tip:u,children:u})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:o["contract-address"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${A[a]&&A[a].viewUrl}/address/${c}`,children:Object(x.i)(c)})})]})]})]})]})}var R=a(29),U=a(1364);function H(e){var t=e.lang,a=e.address,n=e.checkoutBaseToken,i=e.nowToken,s=e.bTokenList,o=e.version,r=e.type,d=Object(l.useState)([]),b=Object(c.a)(d,2),u=b[0],j=b[1],p=function(e){e.target.src=L.default};return Object(l.useEffect)((function(){j(s)}),[s]),Object(y.jsxs)("div",{className:"select-basetoken-info",children:[Object(y.jsxs)("div",{className:"select-coin-title-search",children:[Object(y.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(y.jsx)("div",{className:"search-box",children:Object(y.jsx)(U.a,{list:s,searchName:"bTokenSymbol",onChange:function(e){return j(e)}})})]}),Object(y.jsxs)("div",{className:"coin-search",children:[Object(y.jsx)("div",{className:"slide-icon left",children:Object(y.jsx)(R.a,{token:"arrow-left",width:"24",height:"24"})}),Object(y.jsxs)("div",{className:"v3"===o||"v3_lite"===o?"coin-list some-coin":"coin-list",children:["lp"!==r&&"v2_lite_open"!==o&&Object(y.jsx)(y.Fragment,{children:u.map((function(e,a){return Object(y.jsxs)("div",{className:i===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){n(e.bTokenId,e.bTokenSymbol)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(y.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(y.jsx)(f.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===o||"v3_lite"===o)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[" +  ",Object(y.jsx)(f.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(y.jsx)(f.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(y.jsx)("img",{src:q.a,alt:""})]})}))}),"v2_lite_open"===o&&Object(y.jsx)(y.Fragment,{children:u.map((function(e,a){return Object(y.jsxs)("div",{className:"coin-box checked-base",onClick:function(){n(e.bTokenId)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(y.jsx)("img",{alt:"",onError:p,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(y.jsx)("div",{className:"apy-base-staked",children:Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),t.staked]})]})}))}),"lp"===r&&s.length&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"coin-box checked-base",children:Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(s[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(s[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:i}),Object(y.jsxs)("div",{className:"base-apy",children:[Object(x.v)(a)&&Object(y.jsxs)(y.Fragment,{children:[t.apy," \xa0 ",Object(y.jsx)(f.a,{value:s[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(x.B)(a)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_.a,{text:"".concat(t.apy," ").concat((+s[1].apy).toFixed(2)," %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(y.jsx)(_.a,{text:"".concat(t.apy,"  ").concat((+s[1].lpApy).toFixed(2)," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(y.jsx)("div",{className:"slide-icon right",children:Object(y.jsx)(R.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var z=S[g.DeriEnv.get()].chainInfo;t.default=Object(b.b)("wallet","poolManager")(Object(b.c)((function(e){var t,a=e.lang,s=e.wallet,b=void 0===s?{}:s,j=e.poolManager,p=e.getLang,h=Object(r.i)(),f=h.version,v=h.chainId,O=h.address,k=h.type,S=Object(l.useState)(),_=Object(c.a)(S,2),B=_[0],$=_[1],A=Object(l.useState)(""),R=Object(c.a)(A,2),U=R[0],P=R[1],Z=Object(l.useState)(!1),V=Object(c.a)(Z,2),W=V[0],M=V[1],J=Object(l.useState)(""),X=Object(c.a)(J,2),K=X[0],Y=X[1],G=Object(l.useState)([]),Q=Object(c.a)(G,2),ee=Q[0],te=Q[1],ae=Object(l.useState)({}),ne=Object(c.a)(ae,2),ie=ne[0],ce=ne[1],se=Object(T.a)(),oe=Object(l.useState)(""),le=Object(c.a)(oe,2),re=le[0],de=le[1],be=Object(l.useState)(),ue=Object(c.a)(be,2),je=ue[0],pe=ue[1],he=Object(l.useState)({}),xe=Object(c.a)(he,2),fe=xe[0],ve=xe[1],me=z[v]&&z[v].name,Oe=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isConnected()){e.next=17;break}if(t=[b.detail.chainId,O,b.detail.account],a=null,!K.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:a=e.sent,e.next=16;break;case 9:if("v3"===f||"v3_lite"===f?t.push(B):t.push(U),"v2_lite_open"!==f){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:a=e.sent;case 16:pe(a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){Oe(),Ne(),Se()},ke=Object(l.useMemo)((function(){var e;return e={},Object(n.a)(e,a.add,{content:Object(y.jsx)(w,{getLang:p,poolConfig:K,isLp:k,wallet:b,afterTransaction:ge,version:f,bTokenId:U,address:O,lang:a,type:"add",poolInfo:ie,baseToken:B,walletBalance:je}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(n.a)(e,a.remove,{content:Object(y.jsx)(w,{getLang:p,isLp:k,poolConfig:K,wallet:b,afterTransaction:ge,lang:a,address:O,type:"remove",bTokenId:U,poolInfo:ie,balance:ie,baseToken:B,version:f}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[a,p,K,k,b,f,U,O,B,je,ie]),ye=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.load();case 2:if(t=j.pools,"lp"!==k){e.next=7;break}return e.next=6,j.loadDoubleMingingPool();case 6:t=j.lpPools;case 7:if("v2_lite_open"!==f){e.next=11;break}return e.next=10,j.loadOpen();case 10:t=j.openPools;case 11:t=(t=t.filter((function(e){return e.address===O})))[0],t.bTokens[0].bTokenSymbol,Object(x.v)(O)?"PANCAKE-LP":Object(x.B)(O)&&"DERI-USDT SLP",t.bTokens[0].bTokenId,a=(a=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),de(a),Y(t),te(t.bTokens);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=6;break}return e.next=3,K.getPoolInfo(b,K);case 3:return(t=e.sent).bTokensApy&&ee.map((function(e){if("v2"===f)e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy;else if("v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f)e.apy=100*+t.bTokensApy[0].apy,Object(x.B)(O)&&(e.lpApy=t.lpApy);else if("v3"===f||"v3_lite"===f){var a=t.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));a&&(e.apy=100*+a.apy,e.supplyApy=100*+a.supplyApy,e.xvsApy=100*+a.xvsApy)}return e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,i,c,s,l,r,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!K){e.next=15;break}return e.next=4,K.getPoolInfo(b,K);case 4:if((a=e.sent).bTokensApy&&a.bTokensLiq&&("v2"===f&&U?(l=a.bTokensApy.filter((function(e){return e.bTokenId===U})),n=l[0].apy,r=l[0].multiplier,s=(s=a.bTokensLiq.filter((function(e){return e.bTokenId===U})))[0].liquidity):"v2_lite_open"!==f&&"v3"!==f&&"v3_lite"!==f?(n=a.bTokensApy[0].apy,s=a.bTokensLiq[0].liquidity):"v3"!==f&&"v3_lite"!==f||((l=a.bTokensApy.filter((function(e){return e.bTokenSymbol===B}))).length&&(n=l[0].apy,i=l[0].supplyApy,c=l[0].xvsApy,r=l[0].multiplier),(s=a.bTokensLiq.filter((function(e){return e.bTokenSymbol===B}))).length&&(s=s[0].liquidity)),t={total:s,apy:100*+n,supplyApy:100*+i,xvsApy:100*+c,multiplier:r}),!b.isConnected()){e.next=14;break}return e.next=9,K.getLiquidityInfo(b,O,K.version,K.isLp,k,B,U);case 9:d=e.sent,t=d,"v3"!==f&&"v3_lite"!==f||(t.supplyApy=100*+i,t.xvsApy=100*+c),t.apy=100*+n,t.multiplier=r;case 14:ce(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isConnected()||!K){e.next=9;break}return e.next=3,K.getIsStaked(b,K);case 3:(t=e.sent).bTokens&&ee.map((function(e){if("v2"===f&&"option"!==k)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===f||"v3_lite"===f){var a=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!a.length&&a[0].isStaked}else e.staked=t.isStaked;return e})),a=[],ee.forEach((function(e,t){if(e.staked)return a.push(e),void ee.splice(t,1)})),ee.unshift.apply(ee,a),ee.length&&(n=ee[0].bTokenSymbol,Object(x.v)(O)?n="PANCAKE-LP":Object(x.B)(O)&&(n="DERI-USDT SLP"),i=ee[0].bTokenId,$(n),P(i));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="v3"!==f&&"v3_lite"!==f?K.bTokens.filter((function(e){return e.bTokenId===t})):K.bTokens.filter((function(e){return e.bTokenSymbol===a})),ce({}),P(t),pe(""),$(n[0].bTokenSymbol),M();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){b.detail.chainId&&b.detail.chainId!==v&&b.switchNetwork(se[v])}),[b.detail]),Object(l.useEffect)((function(){ye()}),[]),Object(l.useEffect)((function(){if(pe(""),ee.length&&(B||U)){var e,t={};if("v2"!==f)t=ee.filter((function(e){return e.bTokenSymbol===B}))[0];else if("v2"===f){t=ee.filter((function(e){return e.nowTokenId===U}))[0]}ve(t),"v2"===f&&"option"!==k?U&&(e=ee.filter((function(e){return e.bTokenId===U}))[0].staked):"lp"!==k&&(e=ee.filter((function(e){return e.bTokenSymbol===B}))[0].staked),M(e)}}),[ee,B,U]),Object(l.useEffect)((function(){we()}),[K,ee]),Object(l.useEffect)((function(){Ne(),Oe()}),[U,K,b.detail.account,B]),Object(l.useEffect)((function(){Se()}),[K,b.detail.account,ee]),Object(y.jsxs)("div",{className:"pool-detail",children:[Object(y.jsx)("div",{className:"back-pool",children:Object(y.jsx)(d.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===O||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===O||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===O?"/retired":"/pool",children:Object(y.jsxs)("div",{className:"icon-back",children:[Object(y.jsx)("img",{alt:"",src:C.default}),Object(y.jsx)("span",{children:a.back})]})})}),Object(y.jsxs)("div",{className:"pool-deatail-info",children:[Object(y.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(y.jsxs)("div",{className:"pool-info-text",children:[Object(y.jsxs)("div",{className:"pool-network-type",children:[Object(y.jsx)("div",{className:"network-logo",children:Object(y.jsx)("img",{alt:"",src:function(e){var t,a=+e;return 56===a||97===a?t=I.default:137===a?t=E.default:1===a&&(t=F.default),t}(v)})}),Object(y.jsxs)("div",{className:"pool-type-network-text",children:[Object(y.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==O&&Object(y.jsxs)(y.Fragment,{children:[a[K.type]," ",K[K.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===O&&Object(y.jsx)(y.Fragment,{children:a[K.zone]})]}),Object(y.jsx)("div",{className:"pool-network-text",children:me})]})]}),Object(y.jsxs)("div",{className:"pool-des",children:["lp"!==k&&a["amm-pool-des"],"clp"===f&&Object(y.jsx)(y.Fragment,{children:a["deri-pancake-pool"]}),"slp"===f&&Object(y.jsx)(y.Fragment,{children:a["deri-sushi-pool"]}),Object(y.jsx)("br",{}),"lp"!==k?Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})}):Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})})]})]}),Object(y.jsx)(H,{lang:a,address:O,checkoutBaseToken:Te,nowToken:B,bTokenList:ee,version:f,type:k})]}),Object(y.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(y.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(y.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==k&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(B),children:"v2_lite_open"===f&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{alt:"",onError:function(e){e.target.src=L.default},src:"https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/".concat(B,".png")})})}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[a.manage," ",B," ",a.liquidity]}),W&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),a.staked]})]})]}),"lp"===k&&ee.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[a.manage," ",B," ",a.liquidity]}),W&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),a.staked]})]})]})]}),Object(y.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==f&&Object(y.jsx)(u.a,{poolShow:!1,lang:a,wallet:b})})]}),Object(y.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(y.jsx)(D,(t={wallet:b,nowApy:fe,poolInfo:ie,chainId:v,address:O,nowToken:B,lang:a},Object(n.a)(t,"poolInfo",ie),Object(n.a)(t,"version",f),Object(n.a)(t,"type",k),Object(n.a)(t,"poolConfig",K),Object(n.a)(t,"symbols",re),t)),Object(y.jsx)("div",{className:"add-remove-liquidity",children:Object(y.jsx)(N.a,{tabSet:ke,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=18.05068eff.chunk.js.map